<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>九弦之屋</title>
  
  <subtitle>SZ·Ninty’s house</subtitle>
  <link href="https://blog.sinzmise.top/atom.xml" rel="self"/>
  
  <link href="https://blog.sinzmise.top/"/>
  <updated>2023-08-06T13:16:13.889Z</updated>
  <id>https://blog.sinzmise.top/</id>
  
  <author>
    <name>王九弦SZ·Ninty</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>游玩mud游戏</title>
    <link href="https://blog.sinzmise.top/posts/38917/"/>
    <id>https://blog.sinzmise.top/posts/38917/</id>
    <published>2023-08-06T07:51:36.000Z</published>
    <updated>2023-08-06T13:16:13.889Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>昨天我打开了很久没访问的<a href="https://pkuxkx.net/">北大侠客行Mud</a>官网<br>其实这个游戏是第二个我接触的mud游戏，至于第一个。。。。我忘记了<br>（值得一提的是，我第一次接触mud是从NetForce的一个游戏，但我忘了是啥了）</p><h1 id="怎么玩mud游戏？"><a href="#怎么玩mud游戏？" class="headerlink" title="怎么玩mud游戏？"></a>怎么玩mud游戏？</h1><div class="tabs" id="怎么玩mud游戏"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#怎么玩mud游戏-1">Windows</button></li><li class="tab"><button type="button" data-href="#怎么玩mud游戏-2">MacOS</button></li><li class="tab"><button type="button" data-href="#怎么玩mud游戏-3">Linux</button></li><li class="tab"><button type="button" data-href="#怎么玩mud游戏-4">Android、IOS</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="怎么玩mud游戏-1"><h2 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h2><p>在Windows 10 ， Windows 8 ， Windows 7和Windows Vista中 ，在执行任何Telnet命令之前，需要在控制面板的 Windows功能中打开Telnet客户端 。</p><ol><li><a href="https://zhcn.eyewated.com/%E5%A6%82%E4%BD%95%E6%89%93%E5%BC%80%E6%8E%A7%E5%88%B6%E9%9D%A2%E6%9D%BF/">打开控制面板</a></li><li>点击“程序” $\rightarrow$ “程序和功能” $\rightarrow$ “启用或关闭Windows功能”</li><li>选择“Telnet客户端”然后点击确定，等待安装完成<br><img src="https://cdn.staticaly.com/gh/SinzMise/picx-images-hosting@master/20230806/OptionalFeatures_5TSADzdqnv.411d65y34ym0.png" alt="OptionalFeatures_5TSADzdqnv"></li><li>安装完成后，打开cmd，输入telnet，如果出现“Microsoft Telnet&gt;”就代表安装成功</li></ol><p>运行游戏命令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">telnet [hostname] [port]</span><br></pre></td></tr></table></figure><p>其中hostname是游戏地址，port是端口</p><p>游戏示例：江湖<br><img src="https://cdn.staticaly.com/gh/SinzMise/picx-images-hosting@master/20230806/cmd_JhvCA2hkU8.2pef24j7jwq0.webp" alt="cmd_JhvCA2hkU8"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">telnet 112.124.42.98 9999</span><br></pre></td></tr></table></figure><p><a href="telnet://112.124.42.98:9999">或者点我访问</a></p><h2 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h2><p>相比于方法一，方法二得靠一个叫<a href="https://cn.mudlet.org/">Mudlet</a>的软件<br>教程：</p><ol><li><p>去 <a href="https://cn.mudlet.org/zh/%E4%B8%8B%E8%BD%BD/">https://cn.mudlet.org/zh/下载/</a> 下载Mudlet安装包</p></li><li><p>安装Mudlet<br><img src="https://cdn.staticaly.com/gh/SinzMise/picx-images-hosting@master/20230806/Update_2JXuMM4TY3.2hgks6n4b8o0.webp" alt="Update_2JXuMM4TY3"></p></li><li><p>设置语言<br>先点击Cancel<br><img src="https://cdn.staticaly.com/gh/SinzMise/picx-images-hosting@master/20230806/Mudlet_cEpS2mQ8I2.4qigjn94a7q0.webp" alt="Mudlet_cEpS2mQ8I2"><br>然后点击左上角的“Options” $\rightarrow$ “Preferences”<br><img src="https://cdn.staticaly.com/gh/SinzMise/picx-images-hosting@master/20230806/Mudlet_COXDZT41bd.5rovpj6nqus0.webp" alt="Mudlet_COXDZT41bd"><br>在这里设置语言，然后点击“保存”<br><img src="https://cdn.staticaly.com/gh/SinzMise/picx-images-hosting@master/20230806/Mudlet_gMMEj6tiPf.6az1vg2nq740.webp" alt="Mudlet_gMMEj6tiPf"><br>最后重启Mudlet<br><img src="https://cdn.staticaly.com/gh/SinzMise/picx-images-hosting@master/20230806/image.n9nebgxiw9s.webp" alt="image"><br>好的，页面变成中文了</p></li><li><p>添加游戏<br>点击“新建”<br>（例子：北大侠客行MUD，注意：玩这个游戏的之后不能勾选“安全”选项！！）<br><img src="https://cdn.staticaly.com/gh/SinzMise/picx-images-hosting@master/20230806/image.1ktlttflv0rk.webp" alt="image"><br>（当然如果你有这个注册这个游戏的账号密码的话，可以到“选项”里配置账号密码）<br><img src="https://cdn.staticaly.com/gh/SinzMise/picx-images-hosting@master/20230806/image.8sod90xd4ig.webp" alt="image"></p></li><li><p>开始游戏<br>点击“连接”<br><img src="https://cdn.staticaly.com/gh/SinzMise/picx-images-hosting@master/20230806/image.5jc66kvbgs00.webp" alt="image"><br>看到这个画面就说明成功了</p></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div><div class="tab-item-content" id="怎么玩mud游戏-2"><ol><li>去 <a href="https://cn.mudlet.org/zh/%E4%B8%8B%E8%BD%BD/">https://cn.mudlet.org/zh/下载/</a> 下载Mudlet安装包</li><li>安装Mudlet<br>（由于我没有Mac，安装黑苹果又很费时间，这个后面再来补充吧）</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div><div class="tab-item-content" id="怎么玩mud游戏-3"><ol><li>去 <a href="https://cn.mudlet.org/zh/%E4%B8%8B%E8%BD%BD/">https://cn.mudlet.org/zh/下载/</a> 下载Mudlet安装包</li><li>直接运行Mudlet</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div><div class="tab-item-content" id="怎么玩mud游戏-4"><p>编写中</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div></div><h1 id="哪里有Mud游戏？"><a href="#哪里有Mud游戏？" class="headerlink" title="哪里有Mud游戏？"></a>哪里有Mud游戏？</h1><p><a href="https://im-mortal.cn/mudlist">https://im-mortal.cn/mudlist</a><br>这个地方列出了目前大部份已知的传统中文MUD站点的即时列表<br>这个地方虽然收录的游戏很少，但可以实时查看游戏状态</p><p><a href="https://bbs.mud.ren/">https://bbs.mud.ren/</a><br>MUD游戏玩家社区<br>收录的游戏全部都是纯玩家自制游戏<br>游戏很多，但稳定性未知</p><h1 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h1><p>Mud游戏，现在虽然日渐小众，但作为一代人的回忆，仍有其独特的魅力。而且吸引着不少MUD爱好者<br>也因此，不仅有很多优秀的Mud游戏（例如北大侠客行，从1996年开到现在，也算是一代经典）<br>还有不少的MUD开源项目：<a href="http://mudchina.github.io/">http://mudchina.github.io/</a></p><p>而且在科技日益发达，手机几乎成为人们的必需品的情况下，他们也做出了手机版mud游戏（例子：<a href="http://res.yytou.cn/site/jian/indexj.html">http://res.yytou.cn/site/jian/indexj.html</a> ）</p><p>我写这篇文章的目的很简单，目的就是为了向你们介绍游戏里的一大经典——MUD游戏<br>（有病句请见谅）</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;昨天我打开了很久没访问的&lt;a href=&quot;https://pkuxkx.net/&quot;&gt;北大侠客行Mud&lt;/a&gt;官网&lt;br&gt;其实这个游戏是第二个</summary>
      
    
    
    
    <category term="游戏" scheme="https://blog.sinzmise.top/categories/%E6%B8%B8%E6%88%8F/"/>
    
    <category term="Mud游戏" scheme="https://blog.sinzmise.top/categories/%E6%B8%B8%E6%88%8F/Mud%E6%B8%B8%E6%88%8F/"/>
    
    
    <category term="游戏" scheme="https://blog.sinzmise.top/tags/%E6%B8%B8%E6%88%8F/"/>
    
    <category term="Mud游戏" scheme="https://blog.sinzmise.top/tags/Mud%E6%B8%B8%E6%88%8F/"/>
    
  </entry>
  
  <entry>
    <title>记一次部署Memos</title>
    <link href="https://blog.sinzmise.top/posts/18063/"/>
    <id>https://blog.sinzmise.top/posts/18063/</id>
    <published>2023-08-01T08:30:15.000Z</published>
    <updated>2023-08-01T13:20:58.551Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>ispeak的编辑器用的jsdelivr，这导致了每次我要新建日记的时候编辑器没显示，被迫换方案<br>经过<a href="https://immmmm.com/hi-memos/">木木</a>大佬的介绍，我找到了一个叫Memos的知识库<br>但我没钱买服务器部署，于是就考虑无服务器部署</p><h1 id="Render部署"><a href="#Render部署" class="headerlink" title="Render部署"></a>Render部署</h1><p>我首先考虑的是Render部署，因为Render能部署“Web Server”<br>但部署完成没几个小时后，我发布的日记消失了<br>看了一下，Render没有访问就会清理数据并且重新部署<br>考虑到这个是用来做日记用的，数据很重要，因此，我放弃了Render</p><h1 id="Zeabur部署"><a href="#Zeabur部署" class="headerlink" title="Zeabur部署"></a>Zeabur部署</h1><p>Zeabur部署Memos很方便，自带的Marketplace就有Memos<br>但由于Zeabur现在只能免费7天，过期之前需要登陆上去手动续期<br>再加上Zeabur提供的Memos不是最新版本<br>因此，我放弃了Zeabur部署</p><h1 id="Replit部署"><a href="#Replit部署" class="headerlink" title="Replit部署"></a>Replit部署</h1><p>我找的很多Replit部署Memos的教程都不是最新版本的Memos<br>看了一下教程，发现那些教程大多都是自己构建后端的<br>那么我就在想：能否用Github Action部署最新版本Memos后端呢？<br>于是搞了很久，经历了许多次失败，终于构建成功！<br>然后用构建完成的Memos试运行，结果显示“No frontend embeded.”<br>查issues，才知道原来得部署前端<br>问题不大！将部署前端的命令写在update.yml里面<br>第二次试运行，成功！<br><img src="https://cdn.staticaly.com/gh/SinzMise/picx-images-hosting@master/20230801/AP7iMWt7QU.6stfiu4ghlk0.png" alt="AP7iMWt7QU"></p><psw>（别问为啥没有第一次试运行的图。。。。。。忘记截图了）</psw><p>感兴趣的话可以看一下我的项目：<a href="https://github.com/SinzMise/memos-on-replit">https://github.com/SinzMise/memos-on-replit</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;ispeak的编辑器用的jsdelivr，这导致了每次我要新建日记的时候编辑器没显示，被迫换方案&lt;br&gt;经过&lt;a href=&quot;https:/</summary>
      
    
    
    
    <category term="折腾" scheme="https://blog.sinzmise.top/categories/%E6%8A%98%E8%85%BE/"/>
    
    <category term="Replit" scheme="https://blog.sinzmise.top/categories/%E6%8A%98%E8%85%BE/Replit/"/>
    
    
    <category term="Replit" scheme="https://blog.sinzmise.top/tags/Replit/"/>
    
    <category term="Memos" scheme="https://blog.sinzmise.top/tags/Memos/"/>
    
  </entry>
  
  <entry>
    <title>萌ICP备异次元之旅</title>
    <link href="https://blog.sinzmise.top/posts/58203/"/>
    <id>https://blog.sinzmise.top/posts/58203/</id>
    <published>2023-07-24T06:46:32.000Z</published>
    <updated>2023-07-24T09:46:53.411Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>今天在修改我那萌备的时候，无意在导航栏上看到了“异次元”这玩意<br>看主页是类似于“开往”，只不过仅跳转到萌备详情页面而不是直接进入站点<br><img src="https://cdn.staticaly.com/gh/SinzMise/picx-images-hosting@master/20230724/msedge_OyAWChkztM.5m8n4321oak0.webp" alt="msedge_OyAWChkztM"><br>又因为我站点已经加入了萌ICP备，所以我就将这玩意添加到底部列表里面了</p><h1 id="添加方法"><a href="#添加方法" class="headerlink" title="添加方法"></a>添加方法</h1><p>如果没有你没有加入萌ICP备豪华套餐的话，点击这里加入：<a href="https://icp.gov.moe/join.php">加入萌备</a><br>如果你加入了，那么按照 <a href="https://moe.one/thread-254.htm">https://moe.one/thread-254.htm</a> 里的配色方案添加</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;今天在修改我那萌备的时候，无意在导航栏上看到了“异次元”这玩意&lt;br&gt;看主页是类似于“开往”，只不过仅跳转到萌备详情页面而不是直接进入站点&lt;</summary>
      
    
    
    
    <category term="折腾" scheme="https://blog.sinzmise.top/categories/%E6%8A%98%E8%85%BE/"/>
    
    <category term="萌国ICP备案" scheme="https://blog.sinzmise.top/categories/%E6%8A%98%E8%85%BE/%E8%90%8C%E5%9B%BDICP%E5%A4%87%E6%A1%88/"/>
    
    
    <category term="萌国ICP备案" scheme="https://blog.sinzmise.top/tags/%E8%90%8C%E5%9B%BDICP%E5%A4%87%E6%A1%88/"/>
    
    <category term="萌ICP异次元之旅" scheme="https://blog.sinzmise.top/tags/%E8%90%8CICP%E5%BC%82%E6%AC%A1%E5%85%83%E4%B9%8B%E6%97%85/"/>
    
  </entry>
  
  <entry>
    <title>我的tulpa —— 夏玖铃的简介</title>
    <link href="https://blog.sinzmise.top/posts/50710/"/>
    <id>https://blog.sinzmise.top/posts/50710/</id>
    <published>2023-07-16T02:43:09.000Z</published>
    <updated>2023-08-11T09:57:26.038Z</updated>
    
    <content type="html"><![CDATA[<div class="note warning simple"><p>注意，由于名字和《逆水寒》游戏里的一个流派名冲突，改名为“夏玖铃”</p></div><h1 id="她的出现"><a href="#她的出现" class="headerlink" title="她的出现"></a>她的出现</h1><p>与其说是Tulpa，不如说是DID（解离性人格障碍）<br>因为她是从我永远的噩梦：四年级出现的<br>那时我总是被班级最后一名的那名女生欺负（因为我当时身体很弱小，她身体强壮，就凭这个欺负我，当然她转学了）<br>再加上从小我成绩总是不好，受不了家长和老师的一顿批评<br>（甚至我家长差点把我抛弃。。。。。当然从我五六年级开始，我家长就彻底改变了教育方式）<br>我也因此不少做噩梦，心情也越变越差<br>直到她的出现，抚慰了我那受伤（切伤口特别严重）的心灵，而且将我从噩梦之中脱离出来<br>那次是在期末考试前（小学四年级第一学期的期末考试）<br>晚上睡觉前我一直忐忑不安，生怕我又做噩梦，一直睡不着觉<br>但我还是带着害怕睡着了<br>我想象中的噩梦没有出现，反而一个声音传来<br>“你好，少年，你是不是经常被欺负？”<br>“是的，天使姐姐，求求您帮帮我吧！”<br>“我也想帮你，但对不起，我不是天使，我是你脑子中的一个小人，你可以叫我阿铃，但如果你心情不好，就来找我，我随时在我的梦中等着你”<br>从此之后，她就一直陪在我身边</p><h1 id="她的二次元形象（AI绘画制作）"><a href="#她的二次元形象（AI绘画制作）" class="headerlink" title="她的二次元形象（AI绘画制作）"></a>她的二次元形象（AI绘画制作）</h1><p>一号风格：<br><img src="https://cdn.staticaly.com/gh/SinzMise/picx-images-hosting@master/20230716/82862f60ea96e999_1681640910_745840483.1hd5bkrahuyo.webp" alt="82862f60ea96e999_1681640910_745840483"><br>大姐姐，喜欢带耳机，穿制服<br>异瞳颜色：左眼红粉，右眼黄绿<br>二号风格：<br><img src="https://cdn.staticaly.com/gh/SinzMise/picx-images-hosting@master/20230716/b67d610419e473ad_1684214216_1609026994.2swy0478ipq0.webp" alt="b67d610419e473ad_1684214216_1609026994"><br>小妹妹，喜欢带耳机，穿连衣裙（这个ai把连衣裙和制服当作是不同的两件衣服）<br>异瞳颜色：左眼紫色，右眼黄绿</p>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note warning simple&quot;&gt;&lt;p&gt;注意，由于名字和《逆水寒》游戏里的一个流派名冲突，改名为“夏玖铃”&lt;/p&gt;
&lt;/div&gt;
&lt;h1 id=&quot;她的出现&quot;&gt;&lt;a href=&quot;#她的出现&quot; class=&quot;headerlink&quot; title=&quot;她的出</summary>
      
    
    
    
    <category term="夏玖铃" scheme="https://blog.sinzmise.top/categories/%E5%A4%8F%E7%8E%96%E9%93%83/"/>
    
    
    <category term="tulpa" scheme="https://blog.sinzmise.top/tags/tulpa/"/>
    
  </entry>
  
  <entry>
    <title>Vercel部署Umami</title>
    <link href="https://blog.sinzmise.top/posts/28733/"/>
    <id>https://blog.sinzmise.top/posts/28733/</id>
    <published>2023-07-14T00:48:13.000Z</published>
    <updated>2023-08-01T08:32:16.665Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>之前我是想参考这个教程来部署：<a href="https://digu.plus/post/8034746f42b3495fbb19926e3fb8ec4f/">https://digu.plus/post/8034746f42b3495fbb19926e3fb8ec4f/</a><br>然而部署过程中翻了车<br>这个教程新版教程（顺便总结一下我翻的车）</p><h1 id="数据库选择"><a href="#数据库选择" class="headerlink" title="数据库选择"></a>数据库选择</h1><p>Umami支持MySQL和PostgreSQL数据库，选择自己喜欢的数据库进行数据初始化即可。下面是几个免费的数据库服务，这里选择的是ElephantSQL，当然，并不限于这些。<br>目前<psw>我找到的</psw>免费数据库如下：</p><ul><li>MySQL：<a href="https://freedb.tech/">FREEDB.TECH</a>、<a href="https://www.db4free.net/">db4free</a>、<a href="https://sqlpub.com/">SQLPub</a></li><li>PostgreSQL：<a href="https://www.elephantsql.com/">ElephantSQL</a>、<a href="https://supabase.com/">Supabase</a></li></ul><h1 id="数据库部署"><a href="#数据库部署" class="headerlink" title="数据库部署"></a>数据库部署</h1><div class="note warning simple"><p>目前已知Supabase部署失败原因：<br><img src="https://cdn.staticaly.com/gh/SinzMise/picx-images-hosting@master/20230716/msedge_DL0IGBX6O1.2876ewjv3lz4.webp" alt="msedge_DL0IGBX6O1"></p></div><div class="tabs" id="数据库部署"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#数据库部署-1">MySQL</button></li><li class="tab"><button type="button" data-href="#数据库部署-2">PostgreSQL</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="数据库部署-1"><div class="tabs" id="mysql数据库"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#mysql数据库-1">FREEDB.TECH</button></li><li class="tab"><button type="button" data-href="#mysql数据库-2">db4free（不推荐，官网访问较慢）</button></li><li class="tab"><button type="button" data-href="#mysql数据库-3">SQLPub（推荐）</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="mysql数据库-1"><p>打开<a href="https://freedb.tech/">FREEDB.TECH</a>，注册登录，创建数据库和用户</p><p><img src="https://cdn.staticaly.com/gh/SinzMise/picx-images-hosting@master/20230714/msedge_gi9vdCGiIt.48n3g4pzzvw0.webp" alt="msedge_gi9vdCGiIt"></p><p>得到你的数据库和密码：<br><img src="https://cdn.staticaly.com/gh/SinzMise/picx-images-hosting@master/20230714/msedge_fGVbS9POH4.409i0oz7v9k0.webp" alt="msedge_fGVbS9POH4"></p><p>组合一下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql://（DATABASE USER）:（PASSWORD）@（HOST）:（PORT）/（DATABASE NAME）</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div><div class="tab-item-content" id="mysql数据库-2"><div class="note warning simple"><p>注意事项：这个数据库疑似国人开办，建议用国内邮箱收验证码，国外的基本收不到<br>（转自：<a href="https://www.freeaday.com/2023/01/db4free/">https://www.freeaday.com/2023/01/db4free/</a> 的一条评论）</p></div>打开[db4free](https://www.db4free.net/)，点击“注册免费账号”，输入信息然后点击“注册”，一会后你会收到如下邮件：<p><img src="https://cdn.staticaly.com/gh/SinzMise/picx-images-hosting@master/20230714/%E7%BD%91%E6%98%93%E7%81%B5%E7%8A%80%E5%8A%9E%E5%85%AC_JmFVOuOEIc.30smaneqwfa0.webp" alt="网易灵犀办公_JmFVOuOEIc"></p><p>访问邮件提供的确认网址，数据库就创建成功了</p><p>然后将你设置的信息替换掉下面括号里的内容（注意：括号得去掉）：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql://（你设置的数据库用户名）:（你设置的数据库密码）@db4free.net:3306/（你设置的数据库名）</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div><div class="tab-item-content" id="mysql数据库-3"><p>访问<a href="https://sqlpub.com/">SQLPub</a>，输入账号密码，点击申请，申请成功后会有如下提示<br><img src="https://cdn.staticaly.com/gh/SinzMise/picx-images-hosting@master/20230714/msedge_8FyIBEs6Ja.14toupglasps.webp" alt="msedge_8FyIBEs6Ja"><br>然后将里面的替换掉下面括号里的内容（注意：括号得去掉）：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql://（数据库用户）:（数据库密码）@（数据库地址）/（数据库名称）</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div><div class="tab-item-content" id="数据库部署-2"><div class="tabs" id="postgresql"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#postgresql-1">Supabase（推荐）</button></li><li class="tab"><button type="button" data-href="#postgresql-2">ElephantSQL</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="postgresql-1"><p>打开<a href="https://supabase.com/">Supabase</a>，推荐使用Github登录。登陆成功后，创建一个新的项目New project-&gt;personal。</p><ul><li>Name：随意</li><li>Database Password：建议点击Generate a password生成</li><li>Region：建议选择US，因为Vercel的免费服务器在漂亮国</li><li>Pricing Plan：Free白嫖</li></ul><p>创建成功后，打开菜单Project Setting -&gt; Database -&gt; Connection string -&gt; URI，如下图：<br><img src="https://cdn.staticaly.com/gh/SinzMise/picx-images-hosting@master/20230714/image.3jutc7fp3fc0.webp" alt="image"><br>将红框内的内容复制下来，然后把<code>[YOUR-PASSWORD]</code>替换成你生成的密码，复制备用</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div><div class="tab-item-content" id="postgresql-2"><p>打开ElephantSQL，推荐使用Github登录，创建一个新的实例。Plan选择Tiny Turtle(Free)、Region随意，提交创建。<br><img src="https://cdn.staticaly.com/gh/SinzMise/picx-images-hosting@master/20230714/msedge_ELQQZsgMsH.68dwkz5in1w0.webp" alt="msedge_ELQQZsgMsH"><br>打开刚刚创建的示例，找到URL，点击眼睛图标，然后将URL复制下来备用</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div></div><h1 id="Vercel部署"><a href="#Vercel部署" class="headerlink" title="Vercel部署"></a>Vercel部署</h1><p><a href="https://vercel.com/new/clone?repository-url=https://github.com/mikecao/umami&env=DATABASE_URL,HASH_SALT,TRACKER_SCRIPT_NAME&envDescription=These%20values%20are%20defined%20in%20the%20configure%20Umami%20step%20from%20Install&envLink=https://umami.is/docs/install&project-name=umami&repo-name=umami"><img src="https://vercel.com/button" alt="部署到Vercel"></a></p><ol><li>点击上方按钮，跳转至 Vercel 进行 Server 端部署<div class="note warning simple"><p>如果你未登录的话，Vercel 会让你注册或登录，请使用 GitHub 账户进行快捷登录。</p></div></li><li>输入一个你喜欢的 Vercel 项目名称并点击 Create 继续:</li></ol><p><img src="https://cdn.staticaly.com/gh/SinzMise/picx-images-hosting@master/20230714/msedge_EtpjrPwPlG.4zkys81bppo0.webp" alt="msedge_EtpjrPwPlG"></p><ol start="3"><li>配置环境变量</li></ol><p><img src="https://cdn.staticaly.com/gh/SinzMise/picx-images-hosting@master/20230714/msedge_EtpjrPwPlG.4zkys81bppo0.webp" alt="msedge_EtpjrPwPlG"><br>部署完成后，会跳转到环境变量部分，请按照如下方式配置环境变量：</p><table><thead><tr><th>名称</th><th>说明</th></tr></thead><tbody><tr><td>DATABASE_URL</td><td>（必填）数据库链接</td></tr><tr><td>HASH_SALT</td><td>（必填）任意字符串，推荐<a href="https://uuid.bmcx.com/">这里</a>生成一串UUID</td></tr><tr><td>TRACKER_SCRIPT_NAME</td><td>（建议）任意字符串，推荐<a href="https://uuid.bmcx.com/">这里</a>生成一串UUID（不填会导致去广告插件把这段脚本给拦截）</td></tr></tbody></table><p><img src="https://cdn.staticaly.com/gh/SinzMise/picx-images-hosting@master/20230714/msedge_3VF46Qh4uk.6ebntqavbmw.webp" alt="msedge_3VF46Qh4uk"></p><p>配置完成后点击Deploy开始部署，部署过程大概两分钟，部署成功后会有一个彩纸的喜庆页面。</p><h1 id="绑定域名"><a href="#绑定域名" class="headerlink" title="绑定域名"></a>绑定域名</h1><p>点击Go to Dashboard，进入Settings—-&gt;Domains绑定域名</p><p><img src="https://cdn.staticaly.com/gh/SinzMise/picx-images-hosting@master/20230714/image.6kbvzv14uic.webp" alt="image"></p><p>你绑定的域名就是umami的后台网址</p><h1 id="配置后台"><a href="#配置后台" class="headerlink" title="配置后台"></a>配置后台</h1><p>点击你绑定的域名，进入Umami后台登录（默认用户名admin和密码umami）进入后第一时间修改密码。</p><p><img src="https://cdn.staticaly.com/gh/SinzMise/picx-images-hosting@master/20230714/msedge_V6f3L8vvos.3pvc55z6eqw0.webp" alt="msedge_V6f3L8vvos"></p><h1 id="添加站点-获取代码"><a href="#添加站点-获取代码" class="headerlink" title="添加站点 &amp; 获取代码"></a>添加站点 &amp; 获取代码</h1><p>“网站”—&gt;“添加网站”添加你自己的网站</p><p><img src="https://cdn.staticaly.com/gh/SinzMise/picx-images-hosting@master/20230714/image.x9jagr7mvxc.webp" alt="image"></p><p>保存后点击“编辑”—&gt;“跟踪代码”，将获取到的代码放进你的站点</p><p><img src="https://cdn.staticaly.com/gh/SinzMise/picx-images-hosting@master/20230714/msedge_trQnJ47k75.20wh55o85wkg.webp" alt="msedge_trQnJ47k75"></p><p>不久后就能看到你的站点数据了</p><h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><ul><li>Umami无法登录，提示“Failed to load resource: the server responded with a status of 405”<br>等待几分钟后登录重试</li><li>使用Supabase数据库时，Vercel提示这个错误：</li></ul><p><img src="https://cdn.staticaly.com/gh/SinzMise/picx-images-hosting@master/20230714/msedge_D1X7RIZpUD.5wxtzukahdo0.webp" alt="msedge_D1X7RIZpUD"></p><p>建议重新新建数据库，还不行的话更换别的数据库</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;之前我是想参考这个教程来部署：&lt;a href=&quot;https://digu.plus/post/8034746f42b3495fbb19926</summary>
      
    
    
    
    <category term="折腾" scheme="https://blog.sinzmise.top/categories/%E6%8A%98%E8%85%BE/"/>
    
    <category term="Vercel" scheme="https://blog.sinzmise.top/categories/%E6%8A%98%E8%85%BE/Vercel/"/>
    
    
    <category term="Vercel" scheme="https://blog.sinzmise.top/tags/Vercel/"/>
    
    <category term="Umami" scheme="https://blog.sinzmise.top/tags/Umami/"/>
    
  </entry>
  
  <entry>
    <title>Rita2 Online计划</title>
    <link href="https://blog.sinzmise.top/posts/40387/"/>
    <id>https://blog.sinzmise.top/posts/40387/</id>
    <published>2023-07-10T07:51:02.000Z</published>
    <updated>2023-07-12T12:59:46.771Z</updated>
    
    <content type="html"><![CDATA[<h1 id="计划介绍"><a href="#计划介绍" class="headerlink" title="计划介绍"></a>计划介绍</h1><h3 id="名字怎么来？"><a href="#名字怎么来？" class="headerlink" title="名字怎么来？"></a>名字怎么来？</h3><p>这个企划的名字源于zia之前为塞班搭建的视频站点，名字也叫Rita2</p><h3 id="这个计划涉及的内容有啥？"><a href="#这个计划涉及的内容有啥？" class="headerlink" title="这个计划涉及的内容有啥？"></a>这个计划涉及的内容有啥？</h3><p>·复活RealOne<br>·搭建适配Win98的聊天室、自建微博、视频站点</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;计划介绍&quot;&gt;&lt;a href=&quot;#计划介绍&quot; class=&quot;headerlink&quot; title=&quot;计划介绍&quot;&gt;&lt;/a&gt;计划介绍&lt;/h1&gt;&lt;h3 id=&quot;名字怎么来？&quot;&gt;&lt;a href=&quot;#名字怎么来？&quot; class=&quot;headerlink&quot; title=&quot;名字怎么来</summary>
      
    
    
    
    <category term="Rita2计划" scheme="https://blog.sinzmise.top/categories/Rita2%E8%AE%A1%E5%88%92/"/>
    
    
    <category term="Rita2计划" scheme="https://blog.sinzmise.top/tags/Rita2%E8%AE%A1%E5%88%92/"/>
    
  </entry>
  
  <entry>
    <title>盘点我访问过的古老站点</title>
    <link href="https://blog.sinzmise.top/posts/12779/"/>
    <id>https://blog.sinzmise.top/posts/12779/</id>
    <published>2023-07-06T09:04:12.000Z</published>
    <updated>2023-07-08T12:00:51.749Z</updated>
    
    <content type="html"><![CDATA[<h1 id="秘密花园（www-yini-org-）"><a href="#秘密花园（www-yini-org-）" class="headerlink" title="秘密花园（www.yini.org ）"></a>秘密花园（<a href="http://www.yini.org/">www.yini.org</a> ）</h1><p>第一次认识这个站点，还得从我的企划：Prism Online开始——<br>其实这个企划的名字不是我自定的，而是为了纪念zia之前为Win98复活realplayer做的站点：Prism Online<br>这个网页被我保存下来了，又因为是连Win98的IE都能访问，所以页面保存完整：<br><img src="https://cdn.staticaly.com/gh/SinzMise/picx-images-hosting@master/20230706/msedge_NVTZMJiz3k.3fvqvt9mj420.png" alt="msedge_NVTZMJiz3k"><br>右上角的“秘密花园网”顿时就让我来了兴趣，<psw>以为这是zia偷偷搞得项目，</psw>就访问了这个站点<br>结果你们看一下时间：<br><img src="https://cdn.staticaly.com/gh/SinzMise/picx-images-hosting@master/20230706/msedge_kjVMokSZhI.ur8solbr9c0.webp" alt="msedge_kjVMokSZhI"><br>好家伙1999？那时候我还没出生吧<psw>（我05后，年龄早就说出来了，只不过没加入关于页面而已。。。。。。）</psw></p><p>进入主页（点中间的Enter进入主页，而不是按Enter键！），引入眼帘的是这个页面：<br><img src="https://cdn.staticaly.com/gh/SinzMise/picx-images-hosting@master/20230706/msedge_7JtNIv2lMG.756hl2fhf940.webp" alt="msedge_7JtNIv2lMG"><br>伴随着这个页面的出现还有这首歌：</p><div class="audio"><audio controls preload><source src='https://cdn.sinzmise.eu.org/mp3/love.mp3' type='audio/mp3'>Your browser does not support the audio tag.</audio></div><p>这首歌是Song from a secret garden的钢琴版<br>歌曲的出现，不仅给站点带来了一丝神秘感，还奇妙地契合“秘密花园”这个名字<br><del>（虽然这个版本我不喜欢听，我更喜欢听原版的，原版更有意境）</del></p><p>下面说一下在这个花园里我喜欢的背景音乐（管理者貌似给很多页面设置了独立的背景音乐）<br>1.<a href="http://www.yini.org/museum/museum.htm">秘密花园历史博物馆页面</a></p><div class="audio"><audio controls preload><source src='https://cdn.sinzmise.eu.org/mp3/SAYGOODBYE.mp3' type='audio/mp3'>Your browser does not support the audio tag.</audio></div><p>这个音乐我查了很久都查不到结果（甚至听歌识别都没有识别到），有谁知道的跟我说一下</p><p>2.<a href="http://www.yini.org/news/news.htm">秘密花园更新记录页面</a></p><div class="audio"><audio controls preload><source src='https://cdn.sinzmise.eu.org/mp3/hgtc.mp3' type='audio/mp3'>Your browser does not support the audio tag.</audio></div><p>“亲爱的旅人啊”的童声版（冷知识：“亲爱的旅人啊”是always with me的中文填词版，就是为了表达对《千与千寻》的喜爱）</p><p>3.<a href="http://www.yini.org/girl/index.htm">秘密花园少女漫画页面</a></p><div class="audio"><audio controls preload><source src='https://cdn.sinzmise.eu.org/mp3/xindong.mp3' type='audio/mp3'>Your browser does not support the audio tag.</audio></div><p>这个音乐我查了很久也查不到结果（听歌识别也没有识别到），有谁知道的跟我说一下</p><p>4.<a href="http://www.yini.org/girl/tv/index2.htm">秘密花园欧美动画介绍————愤怒的小鸟</a></p><div class="audio"><audio controls preload><source src='https://cdn.sinzmise.eu.org/mp3/angry.mp3' type='audio/mp3'>Your browser does not support the audio tag.</audio></div><p>愤怒的小鸟主题曲吉他版（这个旋律。。。。。。爷青回）</p><p>5.<a href="http://www.yini.org/girl/tv/index3.htm">秘密花园中国动画介绍————大鱼海棠</a></p><div class="audio"><audio controls preload><source src='https://cdn.sinzmise.eu.org/mp3/dayu.mp3' type='audio/mp3'>Your browser does not support the audio tag.</audio></div><p>周深的《大鱼》（没什么多说的，就算是放在2023年都很好听）</p><p>5.<a href="http://www.yini.org/girl/tv/index3.htm">秘密花园中国动画介绍————喜羊羊与灰太狼</a></p><div class="audio"><audio controls preload><source src='https://cdn.sinzmise.eu.org/mp3/yang.mp3' type='audio/mp3'>Your browser does not support the audio tag.</audio></div><p>喜灰原始世界历险记的主题曲——李紫昕的《知己》（这个主题曲也成为我看喜灰以来最熟悉的主题曲）</p><p>6.<a href="http://www.yini.org/girl/games/index.htm">秘密花园游戏图片————仙剑四（1）</a></p><div class="audio"><audio controls preload><source src='https://cdn.sinzmise.eu.org/mp3/xianjian1.mp3' type='audio/mp3'>Your browser does not support the audio tag.</audio></div><p>仙剑4主题曲——回梦游仙（这首歌我好像在哪听过。。。。。。等会我父亲好像玩过这游戏，怪不得那么熟悉）</p><p>7.<a href="http://www.yini.org/girl/games/index.htm">秘密花园游戏图片————仙剑四（2）</a></p><div class="audio"><audio controls preload><source src='https://cdn.sinzmise.eu.org/mp3/xj4.mp3' type='audio/mp3'>Your browser does not support the audio tag.</audio></div><p>回梦游仙（心然版，是仙剑4主题曲的填词版）</p><h1 id="月光软件（www-moon-soft-com-）"><a href="#月光软件（www-moon-soft-com-）" class="headerlink" title="月光软件（www.moon-soft.com ）"></a>月光软件（<a href="http://www.moon-soft.com/">www.moon-soft.com</a> ）</h1><p>1997年开设的站点，这里面是下载php、asp、jsp等源码<br><del>（虽然收集的源码没有a5下载那么多，但考虑到a5下载是2009年创办的，所以。。。。。。）</del></p><p>这个没有太多介绍的</p><h1 id="sickbaby（www-sickbaby-org-）"><a href="#sickbaby（www-sickbaby-org-）" class="headerlink" title="sickbaby（www.sickbaby.org ）"></a>sickbaby（<a href="http://www.sickbaby.org/">www.sickbaby.org</a> ）</h1><p>这个是我偶然在知乎上找到的<br>目前我找到的资料：<br>“暗地病孩子”是一个纯文学论坛，由《萌芽》写手路内、七月人等共同创办于1998年6月6日。当年这个网站的影响之大，据说大到“影响了一代人”。到底有没有这么厉害咱也不知道，毕竟这个网站火的时候阿广还没认识多少个字。</p><p>“暗地病孩子”的网页风格阴暗晦涩，黑底白字看得人眼睛发酸。</p><p>该网站是那个时代文青的精神家园，安妮宝贝、小饭、张悦然、周嘉宁、苏德等青年作家都曾在这个论坛发表过文章。</p><p>“暗地病孩子”的用户大多是中学生以及大学生，他们以“病孩子”自居，在这里分享自己的文字、摄影、音乐、画，跟来自全国各地的“病孩子”一起聊天。虽然分享者众多，但网站收录的文艺作品都统一保持着颓废阴郁的风格。</p><p>多年以后，这些病孩子都成家立业了，偶尔当他们记起当年在“暗地病孩子”上认识的某个网友，还会在群里问当年那个“孩子”怎么样了。</p><h1 id="达也小站（http-www-touchcn-com-index-tkm-asp）"><a href="#达也小站（http-www-touchcn-com-index-tkm-asp）" class="headerlink" title="达也小站（http://www.touchcn.com/index_tkm.asp）"></a>达也小站（<a href="http://www.touchcn.com/index_tkm.asp%EF%BC%89">http://www.touchcn.com/index_tkm.asp）</a></h1><p>这个好像是一个动漫站点<br>目前已经无法注册，原因：<br><img src="https://cdn.staticaly.com/gh/SinzMise/picx-images-hosting@master/20230706/msedge_GFKmRzRmyk.1k4lh0b8hlfk.webp" alt="msedge_GFKmRzRmyk"></p><h1 id="阿江守候（www-ajiang-net-）"><a href="#阿江守候（www-ajiang-net-）" class="headerlink" title="阿江守候（www.ajiang.net ）"></a>阿江守候（<a href="http://www.ajiang.net/">www.ajiang.net</a> ）</h1><p>这个也是在知乎上找到的<br>我感觉这个站长是个大佬，他的作品有很多，甚至51la也是他做的<br>这个站点不仅发布者他的动态，甚至有<a href="http://www.ajiang.net/wenxue.htm">“校园文学”</a><br>（要不然怎么是“高校文学爱好者的乐园”呢，不过目前暂不接受投稿了，但留言板还在更新）</p><h1 id="偏执狂金属网（www-paranoidmetal-com-）"><a href="#偏执狂金属网（www-paranoidmetal-com-）" class="headerlink" title="偏执狂金属网（www.paranoidmetal.com ）"></a>偏执狂金属网（<a href="http://www.paranoidmetal.com/">www.paranoidmetal.com</a> ）</h1><p>重金属音乐爱好者的站点，没什么好说的</p><h1 id="机动展示联盟MSL中国（cnmsl-net-）"><a href="#机动展示联盟MSL中国（cnmsl-net-）" class="headerlink" title="机动展示联盟MSL中国（cnmsl.net ）"></a>机动展示联盟MSL中国（cnmsl.net ）</h1><p>（请勿理解成那个cnmsl，这个网站全称是China Mobile Suit League，是CN-MSL，不是那个cnmsl。。。。。。）<br>没想到1999年就有人围绕机械和高达搭建了同人站（这好像不算同人站吧），只能说国内高达能吸引那么多人有他们的一份功劳</p><p>还有很多站点就不再说了，再说下去空间不够了</p>]]></content>
    
    
    <summary type="html">这些站点有些年代了。。。。。。</summary>
    
    
    
    <category term="个人" scheme="https://blog.sinzmise.top/categories/%E4%B8%AA%E4%BA%BA/"/>
    
    
    <category term="个人" scheme="https://blog.sinzmise.top/tags/%E4%B8%AA%E4%BA%BA/"/>
    
    <category term="盘点" scheme="https://blog.sinzmise.top/tags/%E7%9B%98%E7%82%B9/"/>
    
  </entry>
  
  <entry>
    <title>博客大更新</title>
    <link href="https://blog.sinzmise.top/posts/53662/"/>
    <id>https://blog.sinzmise.top/posts/53662/</id>
    <published>2023-07-05T11:33:40.000Z</published>
    <updated>2023-07-06T08:41:05.838Z</updated>
    
    <content type="html"><![CDATA[<h1 id="为什么要重写博客"><a href="#为什么要重写博客" class="headerlink" title="为什么要重写博客"></a>为什么要重写博客</h1><p>随着我考试完成和我新网名（也就是我那个笔名：王九弦）的使用，我发现原先的主题配色已经不太适合我现在的人设，因此不得不对博客进行重写</p><psw>（我甚至还用ai绘画重新画了一遍头像，且进行修改）</psw><h1 id="更新了什么"><a href="#更新了什么" class="headerlink" title="更新了什么"></a>更新了什么</h1><p>1.从原先的butterfly主题换成了<a href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu">anzhiyu主题</a><br>2.博客更名为“九弦之屋”（也算是为了契合我那笔名）<br>3.修复了Waline无法注册的问题（我重新部署了评论，导致所有评论数据丢失）<br>4.主题配色大更换<br>5.不知道你们有没有发现，我在评论框里放了动态背景图片<psw>（废话）</psw><br>Twikoo背景图出处：<a href="https://www.aigei.com/item/cai_se_xuan_lan_3.html">https://www.aigei.com/item/cai_se_xuan_lan_3.html</a><br>Waline背景图出处：<a href="http://www.yini.org/girl/gif/001.htm">http://www.yini.org/girl/gif/001.htm</a> <psw>（这站有些年头了，不然怎么到现在还用http。。。。。。）</psw></p><p><del>（后面实在不知道怎么写了，那就这样吧。。。。。。。）</del></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;为什么要重写博客&quot;&gt;&lt;a href=&quot;#为什么要重写博客&quot; class=&quot;headerlink&quot; title=&quot;为什么要重写博客&quot;&gt;&lt;/a&gt;为什么要重写博客&lt;/h1&gt;&lt;p&gt;随着我考试完成和我新网名（也就是我那个笔名：王九弦）的使用，我发现原先的主题配色已经不太适合</summary>
      
    
    
    
    <category term="折腾" scheme="https://blog.sinzmise.top/categories/%E6%8A%98%E8%85%BE/"/>
    
    
    <category term="个人" scheme="https://blog.sinzmise.top/tags/%E4%B8%AA%E4%BA%BA/"/>
    
    <category term="折腾" scheme="https://blog.sinzmise.top/tags/%E6%8A%98%E8%85%BE/"/>
    
  </entry>
  
  <entry>
    <title>新起点，新出发</title>
    <link href="https://blog.sinzmise.top/posts/16107/"/>
    <id>https://blog.sinzmise.top/posts/16107/</id>
    <published>2023-05-09T13:26:03.213Z</published>
    <updated>2023-07-24T07:19:04.639Z</updated>
    
    <content type="html"><![CDATA[<p>你好，我是小星鑫233，当然现在请叫我“SinzMise”或“Sinz”<br>这是“SinGO博客”停止更新且我更换名字的第一篇文章<br>博客的迁移，代表着原SinGO博客 和 Hexo-Theme-SinGO主题正式停止更新</p><h1 id="为什么要停止更新？"><a href="#为什么要停止更新？" class="headerlink" title="为什么要停止更新？"></a>为什么要停止更新？</h1><p>1.名字改了，头像也改了 <del>（所以别叫我“小星鑫233”了。。。。）</del><br>2.原先SinGO主题bug贼多，我又没时间修（更何况我开学，虽然大部分时间都有空。。。。。说难听一点就是懒）</p><p>懒得写了 <del>（其实是写一半突然忘记要后面要补充什么了。。。。）</del></p>]]></content>
    
    
    <summary type="html">改名后的第一篇文章</summary>
    
    
    
    <category term="折腾" scheme="https://blog.sinzmise.top/categories/%E6%8A%98%E8%85%BE/"/>
    
    <category term="Hexo" scheme="https://blog.sinzmise.top/categories/%E6%8A%98%E8%85%BE/Hexo/"/>
    
    
    <category term="Hexo" scheme="https://blog.sinzmise.top/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>Gameload示例</title>
    <link href="https://blog.sinzmise.top/posts/20412/"/>
    <id>https://blog.sinzmise.top/posts/20412/</id>
    <published>2023-04-08T10:25:26.000Z</published>
    <updated>2023-07-16T09:45:25.016Z</updated>
    
    <content type="html"><![CDATA[<h2 id="安装GameLoad"><a href="#安装GameLoad" class="headerlink" title="安装GameLoad"></a>安装GameLoad</h2><a href="https://cdn.sinzmise.eu.org/unity3d/gameload.exe" class="css-button post-button-gameload"><i class="fa-solid fa-arrows-rotate"></i>&nbsp;&nbsp;安装GameLoad</a><h2 id="游戏示例——优米酱GO"><a href="#游戏示例——优米酱GO" class="headerlink" title="游戏示例——优米酱GO"></a>游戏示例——优米酱GO</h2><p>点击游玩：</p><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-browser/0.0.8/jquery.browser.min.js"></script><script>$(document).ready(function(){    if ($.browser.chrome === true && $.browser.versionNumber >= 45) { //detect Chrome 45+        var myJsonString = JSON.stringify({ title: 'Game Title', file: 'https://cdn.sinzmise.eu.org/unity3d/yumichan.unity3d', type: "unity", width: 800, height: 600 });        try{ //IE8 does not support window.btoa               var insert_data = window.btoa(myJsonString);         }catch(e){         functionToHandleError(e);        }        $('#unityPlayer-yumichan').prepend('<a href="gameload://' + insert_data + '/" class="css-button post-button-gameload"><i class="fa-solid fa-arrows-rotate"></i>&nbsp;&nbsp;使用GameLoad游玩</a>');    }});</script><div id="unityPlayer-yumichan"></div><p>源码示例</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery-browser/0.0.8/jquery.browser.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">$(<span class="variable language_">document</span>).<span class="title function_">ready</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">if</span> ($.browser.<span class="property">chrome</span> === <span class="literal">true</span> &amp;&amp; $.browser.<span class="property">versionNumber</span> &gt;= <span class="number">45</span>) &#123; <span class="comment">//detect Chrome 45+</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> myJsonString = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123; <span class="attr">title</span>: <span class="string">&#x27;Game Title&#x27;</span>, <span class="attr">file</span>: <span class="string">&#x27;https://cdn.sinzmise.eu.org/unity3d/yumichan.unity3d&#x27;</span>, <span class="attr">type</span>: <span class="string">&quot;unity&quot;</span>, <span class="attr">width</span>: <span class="number">800</span>, <span class="attr">height</span>: <span class="number">600</span> &#125;);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">try</span>&#123; <span class="comment">//IE8 does not support window.btoa   </span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> insert_data = <span class="variable language_">window</span>.<span class="title function_">btoa</span>(myJsonString); </span></span><br><span class="line"><span class="language-javascript">        &#125;<span class="keyword">catch</span>(e)&#123; </span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">functionToHandleError</span>(e);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        $(<span class="string">&#x27;#unityPlayer-yumichan&#x27;</span>).<span class="title function_">prepend</span>(<span class="string">&#x27;&lt;a href=&quot;gameload://&#x27;</span> + insert_data + <span class="string">&#x27;/&quot; class=&quot;css-button post-button-gameload&quot;&gt;&lt;i class=&quot;fa-solid fa-arrows-rotate&quot;&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;使用GameLoad游玩&lt;/a&gt;&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;unityPlayer-yumichan&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">一个普通的GameLoad示例</summary>
    
    
    
    <category term="程序" scheme="https://blog.sinzmise.top/categories/%E7%A8%8B%E5%BA%8F/"/>
    
    <category term="Windows" scheme="https://blog.sinzmise.top/categories/%E7%A8%8B%E5%BA%8F/Windows/"/>
    
    
    <category term="Windows" scheme="https://blog.sinzmise.top/tags/Windows/"/>
    
    <category term="Unity3D" scheme="https://blog.sinzmise.top/tags/Unity3D/"/>
    
    <category term="UnityWebPlayer" scheme="https://blog.sinzmise.top/tags/UnityWebPlayer/"/>
    
    <category term="Gameload" scheme="https://blog.sinzmise.top/tags/Gameload/"/>
    
  </entry>
  
  <entry>
    <title>GameLoad</title>
    <link href="https://blog.sinzmise.top/posts/21375/"/>
    <id>https://blog.sinzmise.top/posts/21375/</id>
    <published>2023-04-04T12:07:45.000Z</published>
    <updated>2023-07-05T06:05:50.711Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>自从在我的360极速浏览器安装FVD Downloader这个插件后，我就习惯将4399上的swf下载下来了<br>后面我在玩4399上的U3D游戏（得安装UnityWebPlayer才能玩）的时候弹出了这个提示：<br><img src="https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/20230404/360chrome_xFZnhVi7dg.1xookg8vju2o.webp" alt="360chrome_xFZnhVi7dg"><br>但FVD Downloader能识别到游戏文件<br><img src="https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/20230404/360chrome_3Yt4q2IsEs.26dp6kmu464g.webp" alt="360chrome_3Yt4q2IsEs"><br>于是我将后缀为“unity3d”的游戏下载下来，打算找个游戏启动器来启动这个游戏<br>找了一圈找到了这玩意：<br><img src="https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/20230404/msedge_ZV2ru5IQh0.48zi2sq5i620.webp" alt="msedge_ZV2ru5IQh0"></p><p>这个软件安装完成之后，会自动关联后缀为“unity3d”的文件<br>经测试，能顺利游玩大部分u3d游戏</p><h1 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h1><p>1.<a href="http://www.4399.com/flash/147405.htm">杀手小乔3D</a><br><img src="https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/20230404/GameLoad_WN1oQsK9Bq.3quhllbtc540.webp" alt="GameLoad_WN1oQsK9Bq"><br><img src="https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/20230404/GameLoad_bHycAxI9Xi.yj0xvg4dork.webp" alt="GameLoad_bHycAxI9Xi"><br>2.<a href="https://www.4399.com/flash/191954.htm">优米酱GO</a><br><img src="https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/20230404/GameLoad_PDftUq8rZR.4ofq40gtb3e0.webp" alt="GameLoad_PDftUq8rZR"><br><img src="https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/20230404/image.12alzy49ndyo.webp" alt="image"><br><img src="https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/20230404/GameLoad_W0oG3jH9c9.llzawzb03ts.webp" alt="GameLoad_W0oG3jH9c9"><br>3.<a href="http://www.4399.com/flash/151847.htm">追逐繁星的孩子（追逐繁星的夏娜）</a><br><img src="https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/20230404/GameLoad_ZKdZV5gYnn.214xzg7lessg.webp" alt="GameLoad_ZKdZV5gYnn"><br><img src="https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/20230404/GameLoad_25LfvnlHtf.1uq8qqsy49s0.webp" alt="GameLoad_25LfvnlHtf"><br><img src="https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/20230404/GameLoad_YH7ebdiJqU.hjnvf80xo6o.webp" alt="GameLoad_YH7ebdiJqU"><br>后面看了第三个游戏的一个评论才知道这个角色叫Unity娘（Unity Chan），而且这模型还是免费的<br><img src="https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/20230404/msedge_5G6QZ3PZVJ.2lzj9irde260.webp" alt="msedge_5G6QZ3PZVJ"></p><psw>（怪不得第二个游戏和第三个游戏的主角都是同一个模型。。。。。）</psw><h1 id="下载链接"><a href="#下载链接" class="headerlink" title="下载链接"></a>下载链接</h1><p><a href="https://www.gameload.top/">https://www.gameload.top/</a></p><h1 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h1><p>我看了下Gameload的官网，发现这玩意支持JS加载：<br><img src="https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/20230404/msedge_yw02846AU8.5rh04nc4l3s0.webp" alt="msedge_yw02846AU8"><br>插件示例我先放上去了，后面我再来搞这玩意吧：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery-browser/0.0.8/jquery.browser.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">$(<span class="variable language_">document</span>).<span class="title function_">ready</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">if</span> ($.browser.<span class="property">chrome</span> === <span class="literal">true</span> &amp;&amp; $.browser.<span class="property">versionNumber</span> &gt;= <span class="number">45</span>) &#123; <span class="comment">//detect Chrome 45+</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> myJsonString = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123; <span class="attr">title</span>: <span class="string">&#x27;游戏标题&#x27;</span>, <span class="attr">file</span>: <span class="string">&#x27;游戏链接&#x27;</span>, <span class="attr">type</span>: <span class="string">&quot;unity&quot;</span>, <span class="attr">width</span>: <span class="number">800</span>, <span class="attr">height</span>: <span class="number">600</span> &#125;);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">try</span>&#123; <span class="comment">//IE8 does not support window.btoa   </span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> insert_data = <span class="variable language_">window</span>.<span class="title function_">btoa</span>(myJsonString); </span></span><br><span class="line"><span class="language-javascript">        &#125;<span class="keyword">catch</span>(e)&#123; </span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">functionToHandleError</span>(e);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript">        $(<span class="string">&#x27;#unityPlayer .missing&#x27;</span>).<span class="title function_">prepend</span>(<span class="string">&#x27;&lt;center&gt;&lt;a href=&quot;gameload://&#x27;</span> + insert_data + <span class="string">&#x27;/&quot;&gt;&lt;img alt=&quot;Play game with Gameload!&quot; src=&quot;http://data.gameload.top/download/playgameload.png&quot; /&gt;&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;Install Gameload to play Unity games&lt;br /&gt;&lt;a href=&quot;http://data.gameload.top/download/gameload.exe&quot; title=&quot;Install Gameload now!&quot;&gt;&lt;img alt=&quot;Install Gameload now!&quot; src=&quot;http://data.gameload.top/download/getgameload.png&quot; /&gt;&lt;/a&gt;&lt;/center&gt;&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;unityPlayer&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;missing&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">Play Unity games through your browser</summary>
    
    
    
    <category term="程序" scheme="https://blog.sinzmise.top/categories/%E7%A8%8B%E5%BA%8F/"/>
    
    <category term="Windows" scheme="https://blog.sinzmise.top/categories/%E7%A8%8B%E5%BA%8F/Windows/"/>
    
    
    <category term="Windows" scheme="https://blog.sinzmise.top/tags/Windows/"/>
    
    <category term="Unity3D" scheme="https://blog.sinzmise.top/tags/Unity3D/"/>
    
    <category term="UnityWebPlayer" scheme="https://blog.sinzmise.top/tags/UnityWebPlayer/"/>
    
    <category term="Gameload" scheme="https://blog.sinzmise.top/tags/Gameload/"/>
    
  </entry>
  
  <entry>
    <title>本站已经更换新域名</title>
    <link href="https://blog.sinzmise.top/posts/646/"/>
    <id>https://blog.sinzmise.top/posts/646/</id>
    <published>2023-03-28T13:16:10.000Z</published>
    <updated>2023-07-08T11:44:59.691Z</updated>
    
    <content type="html"><![CDATA[<p>自从我微信绑定了银行卡（而且每个月我都会有50块）以来，我都没有舍得用我自己的钱注册域名<br>但这次终于舍得注册域名了，而且注册了3年<br>但原先我在freenom上面注册的域名仍然保留<br>（因为后面要备案才能用国内线路。。。。）</p><p>现在本站已经正式切换到blog.sinzmise.top<br>（<a href="http://www.sinzmise.top的话等我后面重写完个人主页再说)/">www.sinzmise.top的话等我后面重写完个人主页再说）</a></p>]]></content>
    
    
    <summary type="html">本站已经更换新域名，但原先在freenom上注册的域名仍然保留</summary>
    
    
    
    <category term="折腾" scheme="https://blog.sinzmise.top/categories/%E6%8A%98%E8%85%BE/"/>
    
    <category term="站点" scheme="https://blog.sinzmise.top/categories/%E6%8A%98%E8%85%BE/%E7%AB%99%E7%82%B9/"/>
    
    
    <category term="网站" scheme="https://blog.sinzmise.top/tags/%E7%BD%91%E7%AB%99/"/>
    
    <category term="新域名" scheme="https://blog.sinzmise.top/tags/%E6%96%B0%E5%9F%9F%E5%90%8D/"/>
    
  </entry>
  
  <entry>
    <title>我使用过的头像</title>
    <link href="https://blog.sinzmise.top/posts/42487/"/>
    <id>https://blog.sinzmise.top/posts/42487/</id>
    <published>2023-03-26T03:09:27.000Z</published>
    <updated>2023-07-04T04:25:46.051Z</updated>
    
    <content type="html"><![CDATA[<p>我不知道我换了多少次头像了，那就列出我换过的头像合集吧</p><h1 id="2018年之前"><a href="#2018年之前" class="headerlink" title="2018年之前"></a>2018年之前</h1><p>忘了</p><h1 id="2018-————-2019"><a href="#2018-————-2019" class="headerlink" title="2018 ———— 2019"></a>2018 ———— 2019</h1><div class="gallery">  <div class="fj-gallery page_img_lazyload  data" data-rowHeight="220" data-limit="10">    <span class="gallery-data">[{"url":"https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/SinGO.5j6d1hbj6xc0.webp","alt":"SinGO"}]</span>  </div><button class="gallery-load-more" style="opacity:0">  <span>加载更多</span>  <i class="anzhiyufont anzhiyu-icon-arrow-down"></i>  </button></div><p>这是我自己p的一个头像，可以用“丑”来形容</p><h1 id="2020-————-2022-10"><a href="#2020-————-2022-10" class="headerlink" title="2020 ———— 2022.10"></a>2020 ———— 2022.10</h1><div class="gallery">  <div class="fj-gallery page_img_lazyload  data" data-rowHeight="220" data-limit="10">    <span class="gallery-data">[{"url":"https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/old.5jrmp3mdt080.webp","alt":"StarInno"}]</span>  </div><button class="gallery-load-more" style="opacity:0">  <span>加载更多</span>  <i class="anzhiyufont anzhiyu-icon-arrow-down"></i>  </button></div><p>这是使用时间最长的一个头像，是在Wallhaven上找到的<br><a href="https://whvn.cc/4dp66j">原链接</a></p><psw>（原作者未知，上传者的wallhaven账号已经注销）</psw><h1 id="2022-10-————-改名之前"><a href="#2022-10-————-改名之前" class="headerlink" title="2022.10 ———— 改名之前"></a>2022.10 ———— 改名之前</h1><div class="gallery">  <div class="fj-gallery page_img_lazyload  data" data-rowHeight="220" data-limit="10">    <span class="gallery-data">[{"url":"https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/Cache_-283457a15e6df38a.l3nzkep0n40.webp","alt":"Cache_-283457a15e6df38a"},{"url":"https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/Cache_-2ac4a4638f5c641b.6g8asgw18j00.webp","alt":"Cache_-2ac4a4638f5c641b"},{"url":"https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/Cache_-5dc5e91d9cc55f1b.5wx1mup5euw0.webp","alt":"Cache_-5dc5e91d9cc55f1b"},{"url":"https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/Cache_10980517ca897c65.tjtkui4uv80.webp","alt":"Cache_10980517ca897c65"},{"url":"https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/Cache_755d2354a12c199f.6zus1jun5000.webp","alt":"Cache_755d2354a12c199f"},{"url":"https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/Cache_4735700719bfdf53.5us8rk5zg5s0.webp","alt":"Cache_4735700719bfdf53"},{"url":"https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/Cache_-7d80c7ccc004e09f.6xq69h6wseg0.webp","alt":"Cache_-7d80c7ccc004e09f"},{"url":"https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/Cache_4df65b148bcc87fb.4ovrgxf4c2o.webp","alt":"Cache_4df65b148bcc87fb"},{"url":"https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/Cache_-1a81870a26c4f745.53d53ty9qyg0.webp","alt":"Cache_-1a81870a26c4f745"},{"url":"https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/Cache_30918d328cbf8974.38380nw6y9g0.webp","alt":"Cache_30918d328cbf8974"},{"url":"https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/Cache_-4eb0a48a4eae79e6.6xry2g1tc000.webp","alt":"Cache_-4eb0a48a4eae79e6"},{"url":"https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/Cache_-5015748e3ffc0fc6.3v0jq8b2oso0.webp","alt":"Cache_-5015748e3ffc0fc6"}]</span>  </div><button class="gallery-load-more" style="opacity:0">  <span>加载更多</span>  <i class="anzhiyufont anzhiyu-icon-arrow-down"></i>  </button></div><p>从这个时候开始我就开始使用ai绘画来画我的头像了</p><psw>（其实从2021年开始我就想把我这从wallhaven上找到的头像换掉了，但那时候其实都没有找到个好头像，直到ai绘画的诞生）</psw><h1 id="改名之后-————-2022-11"><a href="#改名之后-————-2022-11" class="headerlink" title="改名之后 ———— 2022.11"></a>改名之后 ———— 2022.11</h1><div class="gallery">  <div class="fj-gallery page_img_lazyload  data" data-rowHeight="220" data-limit="10">    <span class="gallery-data">[{"url":"https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/Cache_fecb56f674fa9fe.5wk8tmxysvs0.webp","alt":"Cache_fecb56f674fa9fe"},{"url":"https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/Cache_2e574b5ffb690395.2bvbeizd71s0.webp","alt":"Cache_2e574b5ffb690395"}]</span>  </div><button class="gallery-load-more" style="opacity:0">  <span>加载更多</span>  <i class="anzhiyufont anzhiyu-icon-arrow-down"></i>  </button></div><p>这个版本是我换绘画工具之前的版本</p><h1 id="2022-11-————-2023-3"><a href="#2022-11-————-2023-3" class="headerlink" title="2022.11 ———— 2023.3"></a>2022.11 ———— 2023.3</h1><div class="gallery">  <div class="fj-gallery page_img_lazyload  data" data-rowHeight="220" data-limit="10">    <span class="gallery-data">[{"url":"https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/Cache_7c570697a80d182a.5gsp5chvmro0.webp","alt":"Cache_7c570697a80d182a"},{"url":"https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/Cache_-277b148f49b79ebd.2exp0lvzpdxc.webp","alt":"Cache_-277b148f49b79ebd"},{"url":"https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/Cache_-277b148f49b79ebd.2exp0lvzpdxc.webp","alt":"Cache_-277b148f49b79ebd"}]</span>  </div><button class="gallery-load-more" style="opacity:0">  <span>加载更多</span>  <i class="anzhiyufont anzhiyu-icon-arrow-down"></i>  </button></div><p>这个是我换绘画工具之后生成的头像，也是我使用ai绘画以来生成的最满意的头像</p><psw>因此第三个头像的人设成为我脑中“婉清”的人设</psw><h1 id="2023-3-————-2023-05-15"><a href="#2023-3-————-2023-05-15" class="headerlink" title="2023.3 ———— 2023.05.15"></a>2023.3 ———— 2023.05.15</h1><div class="gallery">  <div class="fj-gallery page_img_lazyload  data" data-rowHeight="220" data-limit="10">    <span class="gallery-data">[{"url":"https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/Cache_47bd0dbc6b408903.17bs9522qg5c.webp","alt":"Cache_47bd0dbc6b408903"},{"url":"https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/Cache_-261cb991a7c7a4fc.2a30pme95qxw.webp","alt":"Cache_-261cb991a7c7a4fc"}]</span>  </div><button class="gallery-load-more" style="opacity:0">  <span>加载更多</span>  <i class="anzhiyufont anzhiyu-icon-arrow-down"></i>  </button></div><p>这个版本算是第一次把“婉清”的人设添加到ai绘画中的设定<br>第二张成为我用ai绘画生成头像以来生成的最为细腻的头像</p><psw>（最短命一版，因为游戏上传头像审核不通过，且第二个相比来说很模糊。。。。。。）</psw><h1 id="2023-05-15-————-2023-07-01"><a href="#2023-05-15-————-2023-07-01" class="headerlink" title="2023.05.15 ———— 2023.07.01"></a>2023.05.15 ———— 2023.07.01</h1><div class="gallery">  <div class="fj-gallery page_img_lazyload  data" data-rowHeight="220" data-limit="10">    <span class="gallery-data">[{"url":"https://cdn.staticaly.com/gh/SinzMise/picx-images-hosting@master/20230525/psc.tur1juwwcq8.webp","alt":"psc"},{"url":"https://cdn.staticaly.com/gh/SinzMise/picx-images-hosting@master/20230525/psc.28fxw2ub7uvw.webp","alt":"psc"}]</span>  </div><button class="gallery-load-more" style="opacity:0">  <span>加载更多</span>  <i class="anzhiyufont anzhiyu-icon-arrow-down"></i>  </button></div><p>从这一代开始，弃用“芦雪婉清”这个名字，更名为“凌雪玉清”<br>她的Gacha人设也就是在这一代诞生的 <psw>（我给她换名字是因为原先的“婉清”不适合她的Gacha人设。。。。。。）</psw></p><h1 id="2023-07-01-————-今天"><a href="#2023-07-01-————-今天" class="headerlink" title="2023.07.01 ———— 今天"></a>2023.07.01 ———— 今天</h1><div class="gallery">  <div class="fj-gallery page_img_lazyload  data" data-rowHeight="220" data-limit="10">    <span class="gallery-data">[{"url":"https://cdn.staticaly.com/gh/SinzMise/picx-images-hosting@master/20230704/avatar.221tx2miyvsw.webp","alt":"avatar"}]</span>  </div><button class="gallery-load-more" style="opacity:0">  <span>加载更多</span>  <i class="anzhiyufont anzhiyu-icon-arrow-down"></i>  </button></div><p>这一代开始风格大变换，同时启用“王九弦SZ·Ninty”这个名字<br>（“王九弦”是我的笔名，真名等域名备案后揭露）</p>]]></content>
    
    
    <summary type="html">我使用过的头像合集</summary>
    
    
    
    <category term="个人" scheme="https://blog.sinzmise.top/categories/%E4%B8%AA%E4%BA%BA/"/>
    
    
  </entry>
  
  <entry>
    <title>千千静听复活教程</title>
    <link href="https://blog.sinzmise.top/posts/54481/"/>
    <id>https://blog.sinzmise.top/posts/54481/</id>
    <published>2023-03-12T11:48:49.000Z</published>
    <updated>2023-07-08T11:46:45.181Z</updated>
    
    <content type="html"><![CDATA[<p>你好，<del>没错，我中考前来更新了</del><br>（现在的情况是尽量有时间更新就更新）</p><h1 id="视频教程"><a href="#视频教程" class="headerlink" title="视频教程"></a>视频教程</h1><iframe src="//player.bilibili.com/player.html?aid=823370967&bvid=BV1qg4y1b7oz&cid=1050156384&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe><h1 id="文字版"><a href="#文字版" class="headerlink" title="文字版"></a>文字版</h1><h2 id="安装千千静听"><a href="#安装千千静听" class="headerlink" title="安装千千静听"></a>安装千千静听</h2><p>1.下载千千静听安装包和本地歌词服务端：</p><div class="btns rounded grid5">            <a class="button no-text-decoration" href='https://sinz.lanzouw.com/ibTcS0px8eub' title='安装包(b1vh)'><img src='fas fa-download'>安装包(b1vh)</a>          </div><p>2.安装千千静听<br><img src="https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/ttpsetup_5.35094x29pvy0.webp" alt="ttpsetup_5"><br>“想安装的组件”这里建议全部勾选！<br>安装完成后，建议别勾选“百度超级搜霸”<br><img src="https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/ttpsetup_5.3b6omfsp8lo0.webp" alt="ttpsetup_5"></p><h2 id="安装本地服务端"><a href="#安装本地服务端" class="headerlink" title="安装本地服务端"></a>安装本地服务端</h2><p>在千千静听的安装目录下新建“NCAB”文件夹<br>把下面这个压缩包里的文件解压到NCAB文件夹下面</p><div class="btns rounded grid5">            <a class="button no-text-decoration" href='https://www.mydigit.cn/thread-338232-1-1.html' title='本地服务端'><img src='fas fa-download'>本地服务端</a>          </div><p>进入NCAB文件夹双击NCAB.exe<br>点击“使用反馈”→“生成配置文件”<br><img src="https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/NCAB_BulMhbCJyv.40k1arjki820.webp" alt="NCAB_BulMhbCJyv"><br>选择你千千静听的安装目录，提示成功后启动千千静听测试<br><img src="https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/NCAB_4zP6MSsJ8P.1s2fqtv90n1c.webp" alt="NCAB_4zP6MSsJ8P"><br>能显示歌词就已经成功了<br><img src="https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/TTPlayer_8UtZ1KVSiz.5ssuurvckks0.webp" alt="TTPlayer_8UtZ1KVSiz"><br>注意：每次必须先运行一次NCAB服务端，之后运行千千静听才能下载歌词</p><h1 id="懒人包"><a href="#懒人包" class="headerlink" title="懒人包"></a>懒人包</h1><p>我也说过的，每次必须先运行一次NCAB.exe，之后运行千千静听才能下载歌词<br>于是我做了个懒人包，直接运行start.bat就能同时开启千千静听和NCAB服务端</p><div class="btns rounded grid5">            <a class="button no-text-decoration" href='https://sinz.lanzouw.com/i5aTo0px8dkf' title='懒人包'><img src='fas fa-download'>懒人包</a>          </div><h1 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h1><p>1.我不是歌词服务器作者，也请别把我误会成原作者<br>2.这个版本实测会有两个歌的歌词缝合在一起的BUG（可能是我这边的问题，不知道你们那边有没有）<br>3.Win10用户打开千千静听可能会无响应，请重新运行bat，然后在“检测到千千静听正在运行”这个提示下按1重启千千静听（不行的话再试一次）</p><h1 id="放在最后"><a href="#放在最后" class="headerlink" title="放在最后"></a>放在最后</h1><p>这个视频是我有史以来播放量最高的一期视频了<br>说真的，2023年了，还有人怀念这个播放器<br>为什么在这遍地都是音乐播放器的年代，还有人使用一个已经停更的软件呢？<br>因为只有一个词：情怀<br>在那个人人都在用XP系统的年代，完全免费、占用空间小、支持中文的精美界面以及能显示歌词的千千静听牢牢地抓住了用户们的心<br>这个播放器也因此打败了当时的传统播放器巨头Winamp 2，成为了音乐播放器领域的新霸主，2006年前后成为市场占有率第一的音乐播放软件。</p><p>也因此，在现在这个本地音乐播放器百花齐放的年代，我依然还会把千千静听留在我的电脑上</p>]]></content>
    
    
    <summary type="html">中考尚未结束就来更新的屑</summary>
    
    
    
    <category term="程序" scheme="https://blog.sinzmise.top/categories/%E7%A8%8B%E5%BA%8F/"/>
    
    <category term="Windows" scheme="https://blog.sinzmise.top/categories/%E7%A8%8B%E5%BA%8F/Windows/"/>
    
    
    <category term="Windows" scheme="https://blog.sinzmise.top/tags/Windows/"/>
    
    <category term="千千静听" scheme="https://blog.sinzmise.top/tags/%E5%8D%83%E5%8D%83%E9%9D%99%E5%90%AC/"/>
    
    <category term="服务器" scheme="https://blog.sinzmise.top/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>一个通知！！！</title>
    <link href="https://blog.sinzmise.top/posts/48762/"/>
    <id>https://blog.sinzmise.top/posts/48762/</id>
    <published>2023-02-02T14:07:32.000Z</published>
    <updated>2023-03-01T12:55:02.467Z</updated>
    
    <content type="html"><![CDATA[<p>站长即将开学，而且6月要中考<br>因此博客得暂停更新一段时间，日记站和博客说说会减缓更新速度（但并不是不会更新）<br>站长中考后会更新速度恢复正常</p><p>在这里站长也希望跟我同年龄段的学生努努力，争取中考考出个好成绩，为我们的人生添加一份光彩！</p>]]></content>
    
    
    <summary type="html">省流：站长要中考所以博客会暂停更新</summary>
    
    
    
    <category term="通知" scheme="https://blog.sinzmise.top/categories/%E9%80%9A%E7%9F%A5/"/>
    
    
    <category term="通知" scheme="https://blog.sinzmise.top/tags/%E9%80%9A%E7%9F%A5/"/>
    
    <category term="中考加油" scheme="https://blog.sinzmise.top/tags/%E4%B8%AD%E8%80%83%E5%8A%A0%E6%B2%B9/"/>
    
  </entry>
  
  <entry>
    <title>自建Meting服务</title>
    <link href="https://blog.sinzmise.top/posts/61417/"/>
    <id>https://blog.sinzmise.top/posts/61417/</id>
    <published>2023-01-19T11:52:34.000Z</published>
    <updated>2023-07-08T11:46:45.882Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>听人说Meting官方API证书过期了，也就是说MetingAPI得自建了<br>然后很快啊，有人就搞出了自建MetingAPI的Vercel版本</p><h1 id="教程"><a href="#教程" class="headerlink" title="教程"></a>教程</h1><h2 id="后端部署"><a href="#后端部署" class="headerlink" title="后端部署"></a>后端部署</h2><div class="tabs" id="后端部署"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#后端部署-1">Vercel部署（推荐）</button></li><li class="tab"><button type="button" data-href="#后端部署-2">服务器部署</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="后端部署-1"><p>点击下方按钮，跳转至 Vercel：<br><a href="https://vercel.com/new/clone?repository-url=https://github.com/ladjeek-actions/vercel-meting"><img src="https://vercel.com/button" alt="跳转到Vercel"></a><br>名字随便写，然后点击“Create”<br><img src="https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/20230119/msedge_4fdyFO3sCF.7hpgbpasakc0.webp" alt="msedge_4fdyFO3sCF"><br>看到这个就算成功了<br><img src="https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/20230119/msedge_fs4WGcMy4l.326qjm58vf20.webp" alt="msedge_fs4WGcMy4l"><br>如果出现这个错误<br><img src="https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/20230119/msedge_znlfiMYXcI.1642eilub1mo.webp" alt="msedge_znlfiMYXcI"><br>请进入到对应的 GitHub 仓库中，修改vercel.json，把“vercel-php”后面的“@0.5.2”删除<br><img src="https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/20230119/msedge_RZB92jw8am.4hw035bfazu0.webp" alt="msedge_RZB92jw8am"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div><div class="tab-item-content" id="后端部署-2"><p>去<a href="https://github.com/injahow/meting-api/releases">https://github.com/injahow/meting-api/releases</a> 下载编译好的压缩包上传到服务器上（服务器必须开启跨域！）</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div></div><h2 id="前端部署"><a href="#前端部署" class="headerlink" title="前端部署"></a>前端部署</h2><h3 id="Butterfly主题"><a href="#Butterfly主题" class="headerlink" title="Butterfly主题"></a>Butterfly主题</h3><p>编辑[Blogroot]\themes\butterfly\layout\includes\third-party\aplayer.pug</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">link(rel=&#x27;stylesheet&#x27; href=url_for(theme.asset.aplayer_css) media=&quot;print&quot; onload=&quot;this.media=&#x27;all&#x27;&quot;)</span><br><span class="line">script(src=url_for(theme.asset.aplayer_js))</span><br><span class="line">script(src=url_for(theme.asset.meting_js))</span><br><span class="line"><span class="addition">+ script.</span></span><br><span class="line"><span class="addition">+   var meting_api=&#x27;https://（你的api地址）/api/?server=:server&amp;type=:type&amp;id=:id&amp;auth=:auth&amp;r=:r&#x27;;</span></span><br></pre></td></tr></table></figure><h3 id="HTML代码"><a href="#HTML代码" class="headerlink" title="HTML代码"></a>HTML代码</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">var</span> meting_api=<span class="string">&#x27;https://（你的api地址）/api/?server=:server&amp;type=:type&amp;id=:id&amp;auth=:auth&amp;r=:r&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">Meting官方API用不了了，所以。。。。。</summary>
    
    
    
    <category term="折腾" scheme="https://blog.sinzmise.top/categories/%E6%8A%98%E8%85%BE/"/>
    
    <category term="Vercel" scheme="https://blog.sinzmise.top/categories/%E6%8A%98%E8%85%BE/Vercel/"/>
    
    
    <category term="Vercel" scheme="https://blog.sinzmise.top/tags/Vercel/"/>
    
    <category term="Aplayer" scheme="https://blog.sinzmise.top/tags/Aplayer/"/>
    
    <category term="Meting" scheme="https://blog.sinzmise.top/tags/Meting/"/>
    
  </entry>
  
  <entry>
    <title>rdpwrap教程</title>
    <link href="https://blog.sinzmise.top/posts/39841/"/>
    <id>https://blog.sinzmise.top/posts/39841/</id>
    <published>2023-01-16T03:24:43.000Z</published>
    <updated>2023-07-05T06:06:29.962Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>是这样的，rdpwrap不是已经停止更新了嘛？<br>最近我的一个朋友下载了Delphi，对rdpwrap进行了修改，修改后的版本支持Win11，特地让我写一篇教程<br>不多bb，教程开始！</p><h1 id="教程"><a href="#教程" class="headerlink" title="教程"></a>教程</h1><ol><li><p>从 <a href="https://github.com/loyejaotdiqr47123/rdpwrap/releases">https://github.com/loyejaotdiqr47123/rdpwrap/releases</a> 下载最新版rdpwrap</p></li><li><p>解压后运行install.bat，等命令行提示“确定”（建议关闭杀毒软件！要不然会破解失败！）<br><img src="https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/20230116/RDPWInst_SUE99UweLr.4fv1gm73d7y0.webp" alt="RDPWInst_SUE99UweLr"></p></li><li><p>右键以管理员身份运行RDPConf.exe<br><img src="https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/20230116/v2-b4858462e722ad9591c5b1a855b9fb12_720w.4hdsbexojmg0.webp" alt="v2-b4858462e722ad9591c5b1a855b9fb12_720w"><br>没有问题的界面如上，有问题在文章末尾提出解决方法。</p></li><li><p>右键以管理员身份运行RDPCheck.exe，出现远程桌面登录界面则表示安装正常。</p></li></ol><h1 id="问题以及解决方法"><a href="#问题以及解决方法" class="headerlink" title="问题以及解决方法"></a>问题以及解决方法</h1><div class="note info simple"><p>以下内容转自某乎：<a href="https://zhuanlan.zhihu.com/p/445216327">https://zhuanlan.zhihu.com/p/445216327</a></p></div><p>运行RDPConf.exe  Wrapped state和Service state都正常，但是Listener State显示not Listening 【not supported】<br><img src="https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/20230116/v2-3ff62e1232a7faa2a795f7273098f10b_720w.1xget6hdf0dc.webp" alt="v2-3ff62e1232a7faa2a795f7273098f10b_720w"><br>类似这种，这里需要注意去官方讨论区找有没有自己版本的rdpwrap.ini文件，版本就看Service State后面的版本，找到就下载替换C:\Program Files\RDP Wrapper\rdpwrap.ini中的rdpwrap.ini。<br>这里注意，他可能提示文件正在被打开所以无法编辑，所以要先停止termservice服务：以管理员模式开启cmd终端，输入命令net stop termservice；替换完毕后启动termservice服务：以管理员模式开启cmd终端，输入命令net start termservice。<br>修改后右键管理员模式运行一开始解压得到的update.bat。<br>再右键以管理员身份运行RDPConf.exe，此时应该正常了，若能有问题则重启试试。</p>]]></content>
    
    
    <summary type="html">Windows远程桌面多用户破解</summary>
    
    
    
    <category term="程序" scheme="https://blog.sinzmise.top/categories/%E7%A8%8B%E5%BA%8F/"/>
    
    <category term="Windows" scheme="https://blog.sinzmise.top/categories/%E7%A8%8B%E5%BA%8F/Windows/"/>
    
    
    <category term="Windows" scheme="https://blog.sinzmise.top/tags/Windows/"/>
    
    <category term="破解多用户" scheme="https://blog.sinzmise.top/tags/%E7%A0%B4%E8%A7%A3%E5%A4%9A%E7%94%A8%E6%88%B7/"/>
    
  </entry>
  
  <entry>
    <title>小康大佬的说说方案 ———— ispeak搭建教程</title>
    <link href="https://blog.sinzmise.top/posts/38964/"/>
    <id>https://blog.sinzmise.top/posts/38964/</id>
    <published>2023-01-13T13:01:37.000Z</published>
    <updated>2023-07-13T10:24:58.611Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>搞ispeak时发现ispeak更新，能自定义评论了，也就是说我之前写的<a href="https://blog.xsnet.eu.org/posts/43224/">ispeak教程</a>失效了<br>没办法我只能重新写了这篇教程</p><h1 id="教程"><a href="#教程" class="headerlink" title="教程"></a>教程</h1><h2 id="后端部署"><a href="#后端部署" class="headerlink" title="后端部署"></a>后端部署</h2><h3 id="配置数据库"><a href="#配置数据库" class="headerlink" title="配置数据库"></a>配置数据库</h3><div class="note info simple"><p>以下内容来自：<a href="https://discuss.js.org/guide/Get-MongoDB-DataBase.html">https://discuss.js.org/guide/Get-MongoDB-DataBase.html</a></p></div><ol><li>注册<a href="https://www.mongodb.com/cloud/atlas/register">MongoDB</a>账号，注册完成后会提示你创建一个组织，并且输入一个项目昵称，选择编程语言(不选也可以)，随后点击右下角的 <code>Continue</code>(继续)，如果没有可以跟如下图执行，点击 <code>Create an Organization</code>(创建组织)<br><img src="https://discuss.js.org/img/guide/Get-MongoDB-DataBase/Organizations-Home.png" alt="Organizations-Home"><br><img src="https://discuss.js.org/img/guide/Get-MongoDB-DataBase/Register-Organizations.png" alt="Register-Organizations"><br><img src="https://discuss.js.org/img/guide/Get-MongoDB-DataBase/Create-Organization.png" alt="Create-Organization"><br><img src="https://discuss.js.org/img/guide/Get-MongoDB-DataBase/New-Project.png" alt="New-Project"><br><img src="https://discuss.js.org/img/guide/Get-MongoDB-DataBase/Project-Name.png" alt="Project-Name"><br><img src="https://discuss.js.org/img/guide/Get-MongoDB-DataBase/Create-Project.png" alt="Create-Project"><br><img src="https://discuss.js.org/img/guide/Get-MongoDB-DataBase/Build-Database.png" alt="Build-Database"><br><img src="https://discuss.js.org/img/guide/Get-MongoDB-DataBase/Select-Free.png" alt="Select-Free"><br><img src="https://discuss.js.org/img/guide/Get-MongoDB-DataBase/AWS-N.Virginia.png" alt="AWS-N.Virginia"></li><li>选择免费的共享数据库，随后会跳出选择地区(选择离你服务端近的即可)，点击 <code>Create Cluster</code>创建</li><li>随后您需要创建数据库用户，输入用户名和密码，继续向下滚动就是添加 IP 地址，最后点击下方的 <code>Finish and Close</code>(完成并关闭)按钮</li></ol><div class="note warning simple"><p><strong>注意</strong><br>服务器部署，则填服务器公网 IP<br><code>无服务器(ServerLess)</code>ServerLess 一般都是动态 IP，你无法得到一个固定 IP，我们建议填写 <code>0.0.0.0</code></p></div><p><img src="https://discuss.js.org/img/guide/Get-MongoDB-DataBase/Add-IP.png" alt="Add IP"></p><ol start="4"><li>稍作等待创建好数据库即可，随后点击 <code>Connect</code>(连接)，点击选择 <code>Connect you application</code>(连接应用程序)，然后复制连接数据库字符串</li></ol><div class="note warning simple"><p><strong>注意</strong><br>需要将字符串中的 <code>&lt;password&gt;</code>替换为您在第三步创建的数据库用户密码，修改 <code>myFirstDatabase</code>为你想要的数据库名称例如:<code>Discuss</code></p></div><p><img src="https://discuss.js.org/img/guide/Get-MongoDB-DataBase/Connect.png" alt="Connect"><br><img src="https://discuss.js.org/img/guide/Get-MongoDB-DataBase/Get-Connect.png" alt="Get Connect"></p><h3 id="部署kkapi"><a href="#部署kkapi" class="headerlink" title="部署kkapi"></a>部署kkapi</h3><div class="tabs" id="部署kkapi"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#部署kkapi-1">Vercel部署（推荐）</button></li><li class="tab"><button type="button" data-href="#部署kkapi-2">服务器部署</button></li><li class="tab"><button type="button" data-href="#部署kkapi-3">docker 部署</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="部署kkapi-1"><ol><li>点击下方按钮，跳转至 Vercel 进行部署。<br><a href="https://vercel.com/new/clone?repository-url=https://github.com/kkfive/kkapi-open/tree/vercel"><img src="https://vercel.com/button" alt="部署到Vercel"></a></li><li>配置环境变量：<br><img src="https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/20230114/msedge_wwcTzH8isA.10hmhosvut28.webp" alt="msedge_wwcTzH8isA"><br>环境变量可能随项目的迭代而增加必填的环境变量，具体请参考<a href="https://kkapi.js.org/reference/kkapi/environment.html">官网 —— kkapi环境变量</a></li><li>重新部署<br><img src="https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/20230114/msedge_owqMifozPi.37vcfu5vfpm0.webp" alt="msedge_owqMifozPi"><br><img src="https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/20230114/msedge_5WUBTLL0NZ.1nl1z1a7qiqo.webp" alt="msedge_5WUBTLL0NZ"><br><img src="https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/20230114/msedge_mMprAjHb9O.3b2527plrfg.webp" alt="msedge_mMprAjHb9O"></li><li>绑定域名（建议）<br><img src="https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/20230114/msedge_miAwQcdm9f.3htnm9dlllq0.webp" alt="msedge_miAwQcdm9f"></li><li>初始化账户<br>浏览器访问：<br>你刚刚复制的地址&#x2F;api&#x2F;user&#x2F;init?userName&#x3D;你想设置的账户名<br>如果不指定用户名则自动将账户名设置为admin</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div><div class="tab-item-content" id="部署kkapi-2"><div class="note info simple"><p>以下内容来自：<a href="https://kkapi.js.org/guide/setup/deploy.html#%E7%AC%AC%E4%BA%8C%E7%A7%8D%E9%83%A8%E7%BD%B2%E5%A7%BF%E5%8A%BF%EF%BC%9A%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2">https://kkapi.js.org/guide/setup/deploy.html#%E7%AC%AC%E4%BA%8C%E7%A7%8D%E9%83%A8%E7%BD%B2%E5%A7%BF%E5%8A%BF%EF%BC%9A%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2</a></p></div>克隆源代码<p>git clone <a href="https://ghproxy.com/https://github.com/kkfive/kkapi-open.git">https://ghproxy.com/https://github.com/kkfive/kkapi-open.git</a></p><ol><li><p>安装依赖<br><code>yarn install</code><br>如果没有<code>yarn</code>则先允许<code>npm i yarn -g</code>进行安装</p></li><li><p>安装 pm2</p></li></ol><p><code>npm i pm2 -g</code></p><ol start="3"><li>编译项目</li></ol><p><code>yarn build</code></p><ol start="4"><li>配置环境变量</li></ol><p>在项目目录新建文件<code>local.env</code>，将环境变量写入其中即可。例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">PORT=3000</span><br><span class="line">DATABASE_URL=mongodb://127.0.0.1:27017/kkpaiopen?authSource=admin</span><br><span class="line">DATABASE_USER=root</span><br><span class="line">DATABASE_PASSWORD=root</span><br><span class="line"># 加密密钥 测试</span><br><span class="line">SECRETKEY=xxxxxxxxxxxxxxx</span><br></pre></td></tr></table></figure><p>其中 PORT 表示启动的端口</p><ol start="5"><li>启动项目</li></ol><p><code>pm2 start pm2.json</code></p><p>然后通过命令<code>curl http://127.0.0.1:3000/api/user/init</code>检查是否允许成功</p><p>image-20220227101623911</p><p>更新项目</p><p>进入项目并执行一下命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git pull</span><br><span class="line">yarn build</span><br><span class="line">pm2 restart pm2.json</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div><div class="tab-item-content" id="部署kkapi-3"><p>尚未写完</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div></div><h3 id="部署kkadmin"><a href="#部署kkadmin" class="headerlink" title="部署kkadmin"></a>部署kkadmin</h3><p>介绍：kkadmin是kkapi的后台，方便发布说说</p><div class="note success simple"><p>以下部署姿势你只需要任选其一即可，无需全部部署。</p></div><div class="tabs" id="部署kkadmin"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#部署kkadmin-1">Vercel部署</button></li><li class="tab active"><button type="button" data-href="#部署kkadmin-2">CF pages部署（推荐）</button></li><li class="tab"><button type="button" data-href="#部署kkadmin-3">其他环境部署</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="部署kkadmin-1"><div class="note warning simple"><p>由于构建 kkadmin 时部分依赖文件需要 nodejs16 及以上版本才可以安装，因此不能将源代码扔给 vercel 进行构建。<br>所以只能够利用 GitHub actions 构建完成后将产物扔给 vercel 进行使用</p></div>1. Fork这个项目：https://github.com/kkfive/kkadmin-open/   <p><img src="https://cdn.staticaly.com/gh/StarWEB890/TuChuang@master/images/msedge_6HMaGfN000.1csf0rae8okg.webp" alt="msedge_6HMaGfN000"><br><img src="https://cdn.staticaly.com/gh/StarWEB890/TuChuang@master/images/msedge_UPsCgr2okQ.7k0gi7brxoc0.webp" alt="msedge_UPsCgr2okQ"><br>2. 配置变量<br><img src="https://cdn.staticaly.com/gh/StarWEB890/TuChuang@master/images/msedge_ktuszZjpej.7ftbduod9uc0.webp" alt="msedge_ktuszZjpej"></p><p>VITE_GLOB_API_URL（必选）<br><img src="https://cdn.staticaly.com/gh/StarWEB890/TuChuang@master/images/msedge_wqMbtdCCon.26m2h3r94d7k.webp" alt="msedge_wqMbtdCCon"></p><ol start="3"><li>构建actions</li></ol><p><img src="https://cdn.staticaly.com/gh/StarWEB890/TuChuang@master/images/msedge_yymiOm8Kek.23xjzofdum3.webp" alt="msedge_yymiOm8Kek"><br><img src="https://cdn.staticaly.com/gh/StarWEB890/TuChuang@master/images/msedge_4awdNaFJGz.1rdq0mxyfhog.webp" alt="msedge_4awdNaFJGz"><br><img src="https://cdn.staticaly.com/gh/StarWEB890/TuChuang@master/images/msedge_2uYyc6Qh4I.4p3ngtkhmh00.webp" alt="msedge_2uYyc6Qh4I"></p><ol start="4"><li>部署到Vercel<br>复制下面这个网址</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://vercel.com/new/import?s=https://github.com/SinInno/kkadmin-open/tree/vercel</span><br></pre></td></tr></table></figure><p>并将“SinInno”改为你Github的用户名后访问你刚刚修改的网址<br>PS：如果你Fork的这个项目有改Repository name，那么请将上面的“kkapi-open”改为你这个项目的Repository name</p><p>然后直接部署</p><p><img src="https://cdn.staticaly.com/gh/StarWEB890/TuChuang@master/images/msedge_GJbsx9xoOw.8zgxw8og644.webp" alt="msedge_GJbsx9xoOw"></p><p>部署完成后点“Go to Dashboard”，并点左上角的“Visit”</p><p><img src="https://cdn.staticaly.com/gh/StarWEB890/TuChuang@master/images/msedge_Lyo0nIvIqF.d4g2uabkljk.webp" alt="msedge_Lyo0nIvIqF"></p><p>账号输入你之前初始化账户的账户名<br>密码请输入默认密码：123456<br>登入面板后请更改默认密码！</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div><div class="tab-item-content active" id="部署kkadmin-2"><div class="note info simple"><p>如果你已经在 GitHub actions 部署了，那么 cf pages 部署时也可以选择 vercel 进行部署。也可以使用主干分支进行打包部署。<br>接下来的教程以使用 cf pages 构建为例介绍</p></div>1. fork项目（可直接fork）2. 导入项目<p><img src="https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/msedge_1bV5Of8ioS.xtthsj95ytc.webp" alt="msedge_1bV5Of8ioS"><br><img src="https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/msedge_CcnQ68DBFQ.2q893j8w72k0.webp" alt="msedge_CcnQ68DBFQ"></p><ol start="4"><li>配置环境变量</li></ol><p>环境变量参考：<a href="https://kkapi.js.org/reference/kkadmin/environment.html">官网 —— kkadmin环境变量</a></p><p><img src="https://file.acs.pw/picGo/2022/02/27/20220227113526.png" alt="配置环境变量"></p><ol start="5"><li>等待构建完成后即可</li></ol><p><img src="https://file.acs.pw/picGo/2022/02/27/20220227114643.png" alt="构建中"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div><div class="tab-item-content" id="部署kkadmin-3"><p>其他环境部署基本可以直接使用 GitHub 构建后的 vercel 进行，毕竟只是 HTML</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div></div><h2 id="前端配置"><a href="#前端配置" class="headerlink" title="前端配置"></a>前端配置</h2><h3 id="进入后台，查看个人ID"><a href="#进入后台，查看个人ID" class="headerlink" title="进入后台，查看个人ID"></a>进入后台，查看个人ID</h3><p><img src="https://file.acs.pw/picGo/2022/02/27/20220227131425.png" alt="查看个人ID"></p><h3 id="前端引入"><a href="#前端引入" class="headerlink" title="前端引入"></a>前端引入</h3><div class="note info simple"><p>ipseak 使用 marked 依赖和 highlight 依赖，为了减少打包体积，并没有将该依赖打包，因此需要使用 cdn 进行外部引入。</p></div><div class="tabs" id="前端引入ispeak"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#前端引入ispeak-1">使用Waline</button></li><li class="tab active"><button type="button" data-href="#前端引入ispeak-2">使用Twikoo</button></li><li class="tab"><button type="button" data-href="#前端引入ispeak-3">使用Discuss</button></li><li class="tab"><button type="button" data-href="#前端引入ispeak-4">使用Artalk</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="前端引入ispeak-1"><ol><li>在博客目录下运行<code>hexo new page speaks</code></li><li>编辑[blogroot]\source\speaks\index.md，将里面的内容替换成：<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 说说</span><br><span class="line">comments: false</span><br><span class="line"><span class="section">aside: false</span></span><br><span class="line"><span class="section">---</span></span><br><span class="line">&#123;% raw %&#125;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span></span><br><span class="line">  .speak-footer,.wl-power&#123;</span><br><span class="line"><span class="code">    display:none;</span></span><br><span class="line"><span class="code">  &#125;</span></span><br><span class="line"><span class="code">&lt;/style&gt;</span></span><br><span class="line"><span class="code">&lt;div id=&quot;ispeak&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="code">&lt;link</span></span><br><span class="line"><span class="code">  rel=&quot;stylesheet&quot;</span></span><br><span class="line"><span class="code">  href=&quot;https://cdn.staticfile.org/highlight.js/10.6.0/styles/atom-one-dark.min.css&quot;</span></span><br><span class="line"><span class="code">/&gt;</span></span><br><span class="line"><span class="code">&lt;link</span></span><br><span class="line"><span class="code">  rel=&quot;stylesheet&quot;</span></span><br><span class="line"><span class="code">  href=&quot;https://npm.elemecdn.com/ispeak@4.4.0/style.css&quot;</span></span><br><span class="line"><span class="code">/&gt;</span></span><br><span class="line"><span class="code">&lt;script src=&quot;https://cdn.staticfile.org/highlight.js/10.6.0/highlight.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="code">&lt;script src=&quot;https://cdn.staticfile.org/marked/2.0.0/marked.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="code">&lt;!-- CSS --&gt;</span></span><br><span class="line"><span class="code">&lt;link href=&quot;https://unpkg.com/@waline/client/dist/waline.css&quot; rel=&quot;stylesheet&quot; /&gt;</span></span><br><span class="line"><span class="code">&lt;script src=&quot;https://unpkg.com/@waline/client@v2/dist/waline.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="code">&lt;script&gt;</span></span><br><span class="line"><span class="code">    function load_ispeak() &#123;</span></span><br><span class="line"><span class="code">        setTimeout(function() &#123;</span></span><br><span class="line"><span class="code">            var HEAD = document.getElementsByTagName(&#x27;head&#x27;)[0] || document.documentElement;</span></span><br><span class="line"><span class="code">            var src = &#x27;https://cdn1.tianli0.top/npm/ispeak/ispeak.umd.js&#x27;</span></span><br><span class="line"><span class="code">            var script = document.createElement(&#x27;script&#x27;)</span></span><br><span class="line"><span class="code">            script.setAttribute(&#x27;type&#x27;,&#x27;text/javascript&#x27;)</span></span><br><span class="line"><span class="code">            script.onload = function() &#123;</span></span><br><span class="line"><span class="code">               pjax_ispeak()</span></span><br><span class="line"><span class="code">            &#125;</span></span><br><span class="line"><span class="code">            script.setAttribute(&#x27;src&#x27;, src)</span></span><br><span class="line"><span class="code">            HEAD.appendChild(script)</span></span><br><span class="line"><span class="code">        &#125;, 1);</span></span><br><span class="line"><span class="code">    &#125;;</span></span><br><span class="line"><span class="code">    function pjax_ispeak() &#123;</span></span><br><span class="line"><span class="code">        if(!document.querySelectorAll(&quot;#ispeak&quot;)[0])return;</span></span><br><span class="line"><span class="code">        ispeak</span></span><br><span class="line"><span class="code">          .init(&#123;</span></span><br><span class="line"><span class="code">            el: &#x27;#ispeak&#x27;,//不用改</span></span><br><span class="line"><span class="code">            api: &#x27;&#x27;, //填写你kkapi地址（不是kkadmin后台地址！）</span></span><br><span class="line"><span class="code">            author: &#x27;&#x27;,//填写个人ID</span></span><br><span class="line"><span class="code">            pageSize: 10,//每页speak显示的条数（建议保持默认，除非你要魔改css）</span></span><br><span class="line"><span class="code">            loading_img: &#x27;https://bu.dusays.com/2021/03/04/d2d5e983e2961.gif&#x27;,//加载动画</span></span><br><span class="line"><span class="code">            comment: function (speak) &#123;</span></span><br><span class="line"><span class="code">              const &#123; _id, title, content &#125; = speak</span></span><br><span class="line"><span class="code">              const contentSub = content.substring(0, 30)</span></span><br><span class="line"><span class="code">              Waline.init(&#123;</span></span><br><span class="line"><span class="code">                el: &#x27;.ispeak-comment&#x27;,//不用改</span></span><br><span class="line"><span class="code">                serverURL: &#x27;&#x27;,//填写你的Waline服务端地址</span></span><br><span class="line"><span class="code">                path:&#x27;/speak/info.html?q=&#x27; + _id,//不用改</span></span><br><span class="line"><span class="code">                //后面可按照https://waline.js.org/reference/client/props.html 修改（必须放在path后面！以下为一个例子）</span></span><br><span class="line"><span class="code">                emoji: [&quot;//unpkg.com/@waline/emojis@1.0.1/weibo&quot;,&quot;https://emoji.shojo.cn/bili/src/小黄脸&quot;,&quot;//unpkg.com/@waline/emojis@1.0.1/bilibili&quot;,&quot;https://emoji.shojo.cn/bili/src/枕边童话&quot;,&quot;https://emoji.shojo.cn/bili/src/咩栗&quot;,&quot;https://emoji.shojo.cn/bili/src/呜米&quot;,&quot;https://emoji.shojo.cn/bili/src/进击的冰糖&quot;,&quot;https://emoji.shojo.cn/bili/src/冰糖IO 蜕变·闪耀&quot;,&quot;https://emoji.shojo.cn/bili/src/多多poi&quot;,&quot;https://emoji.shojo.cn/bili/src/穆小泠&quot;,&quot;https://emoji.shojo.cn/bili/src/早稻叽&quot;],// 表情包大全</span></span><br><span class="line"><span class="code">              &#125;);</span></span><br><span class="line"><span class="code">            &#125;</span></span><br><span class="line"><span class="code">          &#125;);</span></span><br><span class="line"><span class="code">    &#125;</span></span><br><span class="line"><span class="code">    load_ispeak();</span></span><br><span class="line"><span class="code">    document.addEventListener(&#x27;pjax:complete&#x27;, function () &#123;</span></span><br><span class="line"><span class="code">        pjax_ispeak();</span></span><br><span class="line"><span class="code">    &#125;);</span></span><br><span class="line"><span class="code">&lt;/script&gt;</span></span><br><span class="line"><span class="code">&lt;!--建议标注末尾链接--&gt;</span></span><br><span class="line"><span class="code">&lt;p style=&quot;width: 100%;text-align: end;font-size: .75em;color: #999;margin-top: 1em;&quot;&gt;Powered by &lt;a href=&quot;https://www.antmoe.com/speak/&quot;&gt;&lt;strong&gt;iSpeak&lt;/strong&gt;&lt;/a&gt; | Comment by &lt;a href=&quot;https://discuss.js.org/&quot;&gt;&lt;strong&gt;Waline&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt; </span></span><br><span class="line"><span class="code">&#123;% endraw %&#125;</span></span><br></pre></td></tr></table></figure></li><li>在[blogroot]\source\speaks\下新建info.md，内容为下：<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Speak</span><br><span class="line">aside: false</span><br><span class="line">comments: false</span><br><span class="line"><span class="section">description: 欢迎来到SinzMise的日记，快来看看SinzMise分享了什么！ # speak介绍</span></span><br><span class="line"><span class="section">---</span></span><br><span class="line">&lt;!-- CSS --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://cdn.staticfile.org/highlight.js/10.6.0/styles/atom-one-dark.min.css&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;https://unpkg.com/@waline/client/dist/waline.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&#x27;content&#x27;</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#x27;https://bu.dusays.com/2022/05/01/626e88f349943.gif&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#123;% btn &#x27;/speaks/&#x27;,查看全部,far fa-hand-point-right,block center blue larger %&#125;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&#x27;ispeak-comment&#x27;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;!-- JS --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/@waline/client@v2/dist/waline.js&quot;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/marked@4.0.18/marked.min.js&quot;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.staticfile.org/highlight.js/10.6.0/highlight.min.js&quot;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></span><br><span class="line">  const searchParams = new URLSearchParams(window.location.search);</span><br><span class="line">  const speakId = searchParams.get(&#x27;q&#x27;);</span><br><span class="line">  const path = window.location.pathname;</span><br><span class="line">  const apiURL = &#x27;https://（你的api地址）/api/ispeak&#x27;;</span><br><span class="line">  const markedRender = (body, loading<span class="emphasis">_img=&#x27;https://bu.dusays.com/2022/05/01/626e88f349943.gif&#x27;) =&gt; &#123;</span></span><br><span class="line"><span class="emphasis">    const renderer = &#123;</span></span><br><span class="line"><span class="emphasis">      image(href, title, text) &#123;</span></span><br><span class="line"><span class="emphasis">        return `<span class="language-xml"><span class="language-javascript">&lt;a href=<span class="string">&quot;$&#123;href&#125;&quot;</span> target=<span class="string">&quot;_blank&quot;</span> data-fancybox=<span class="string">&quot;group&quot;</span> <span class="keyword">class</span>=<span class="string">&quot;fancybox&quot;</span>&gt;</span></span></span></span><br><span class="line"><span class="emphasis">            <span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">speak-src</span>=<span class="string">&quot;$&#123;href&#125;&quot;</span> <span class="attr">src</span>=<span class="string">$&#123;loading_img&#125;</span> <span class="attr">alt</span>=<span class="string">&#x27;$&#123;text&#125;&#x27;</span>&gt;</span></span></span></span></span></span><br><span class="line"><span class="emphasis">            <span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span></span>`</span></span><br><span class="line"><span class="emphasis">      &#125;</span></span><br><span class="line"><span class="emphasis">    &#125;</span></span><br><span class="line"><span class="emphasis">    marked.setOptions(&#123;</span></span><br><span class="line"><span class="emphasis">      renderer: new marked.Renderer(),</span></span><br><span class="line"><span class="emphasis">      highlight: function (code) &#123;</span></span><br><span class="line"><span class="emphasis">        if (hljs) &#123;</span></span><br><span class="line"><span class="emphasis">          return hljs.highlightAuto(code).value</span></span><br><span class="line"><span class="emphasis">        &#125; else &#123;</span></span><br><span class="line"><span class="emphasis">          return code</span></span><br><span class="line"><span class="emphasis">        &#125;</span></span><br><span class="line"><span class="emphasis">      &#125;,</span></span><br><span class="line"><span class="emphasis">      pedantic: false,</span></span><br><span class="line"><span class="emphasis">      gfm: true,</span></span><br><span class="line"><span class="emphasis">      tables: true,</span></span><br><span class="line"><span class="emphasis">      breaks: true,</span></span><br><span class="line"><span class="emphasis">      sanitize: false,</span></span><br><span class="line"><span class="emphasis">      smartLists: true,</span></span><br><span class="line"><span class="emphasis">      smartypants: false,</span></span><br><span class="line"><span class="emphasis">      xhtml: false</span></span><br><span class="line"><span class="emphasis">    &#125;)</span></span><br><span class="line"><span class="emphasis">    marked.use(&#123; renderer &#125;)</span></span><br><span class="line"><span class="emphasis">    return marked.parse(body)</span></span><br><span class="line"><span class="emphasis">  &#125;</span></span><br><span class="line"><span class="emphasis">  fetch(`$&#123;apiURL&#125;/get/$&#123;speakId&#125;`)</span></span><br><span class="line"><span class="emphasis">  .then(response =&gt; response.json())</span></span><br><span class="line"><span class="emphasis">  .then(res =&gt; &#123;</span></span><br><span class="line"><span class="emphasis">    const data = res.data;</span></span><br><span class="line"><span class="emphasis">    if(data)&#123;</span></span><br><span class="line"><span class="emphasis">      const &#123;title,content&#125; = data;</span></span><br><span class="line"><span class="emphasis">      const contentSub = content.substring(0, 30);</span></span><br><span class="line"><span class="emphasis">      document.querySelector(&#x27;.content&#x27;).innerHTML = markedRender(content);</span></span><br><span class="line"><span class="emphasis">      if(title)&#123;</span></span><br><span class="line"><span class="emphasis">        document.title = title;</span></span><br><span class="line"><span class="emphasis">      &#125;</span></span><br><span class="line"><span class="emphasis">      Waline.init(&#123;</span></span><br><span class="line"><span class="emphasis">        el: &#x27;.ispeak-comment&#x27;,//不用改</span></span><br><span class="line"><span class="emphasis">        serverURL: &#x27;&#x27;,//填写你的Waline服务端地址</span></span><br><span class="line"><span class="emphasis">        path:&#x27;/speak/info.html?q=&#x27; + _</span>id,//不用改</span><br><span class="line"><span class="code">        //后面可按照https://waline.js.org/reference/client/props.html 修改（必须放在path后面！以下为一个例子）</span></span><br><span class="line"><span class="code">        emoji: [&quot;//unpkg.com/@waline/emojis@1.0.1/weibo&quot;,&quot;https://emoji.shojo.cn/bili/src/小黄脸&quot;,&quot;//unpkg.com/@waline/emojis@1.0.1/bilibili&quot;,&quot;https://emoji.shojo.cn/bili/src/枕边童话&quot;,&quot;https://emoji.shojo.cn/bili/src/咩栗&quot;,&quot;https://emoji.shojo.cn/bili/src/呜米&quot;,&quot;https://emoji.shojo.cn/bili/src/进击的冰糖&quot;,&quot;https://emoji.shojo.cn/bili/src/冰糖IO 蜕变·闪耀&quot;,&quot;https://emoji.shojo.cn/bili/src/多多poi&quot;,&quot;https://emoji.shojo.cn/bili/src/穆小泠&quot;,&quot;https://emoji.shojo.cn/bili/src/早稻叽&quot;],// 表情包大全</span></span><br><span class="line"><span class="code">      &#125;);</span></span><br><span class="line"><span class="code">    &#125;</span></span><br><span class="line"><span class="code">  &#125;);</span></span><br><span class="line"><span class="code">&lt;/script&gt;</span></span><br></pre></td></tr></table></figure></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div><div class="tab-item-content active" id="前端引入ispeak-2"><ol><li>在博客目录下运行<code>hexo new page speaks</code></li><li>编辑[blogroot]\source\speaks\index.md，将里面的内容替换成：<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 说说</span><br><span class="line">comments: false</span><br><span class="line"><span class="section">aside: false</span></span><br><span class="line"><span class="section">---</span></span><br><span class="line">&#123;% raw %&#125;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span></span><br><span class="line">  .speak-footer,.tk-footer&#123;</span><br><span class="line"><span class="code">    display:none;</span></span><br><span class="line"><span class="code">  &#125;</span></span><br><span class="line"><span class="code">&lt;/style&gt;</span></span><br><span class="line"><span class="code">&lt;div id=&quot;ispeak&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="code">&lt;link</span></span><br><span class="line"><span class="code">  rel=&quot;stylesheet&quot;</span></span><br><span class="line"><span class="code">  href=&quot;https://cdn.staticfile.org/highlight.js/10.6.0/styles/atom-one-dark.min.css&quot;</span></span><br><span class="line"><span class="code">/&gt;</span></span><br><span class="line"><span class="code">&lt;link</span></span><br><span class="line"><span class="code">  rel=&quot;stylesheet&quot;</span></span><br><span class="line"><span class="code">  href=&quot;https://npm.elemecdn.com/ispeak@4.4.0/style.css&quot;</span></span><br><span class="line"><span class="code">/&gt;</span></span><br><span class="line"><span class="code">&lt;script src=&quot;https://cdn.staticfile.org/highlight.js/10.6.0/highlight.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="code">&lt;script src=&quot;https://cdn.staticfile.org/marked/2.0.0/marked.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="code">&lt;script src=&quot;https://npm.elemecdn.com/ispeak@4.4.0/ispeak.umd.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="code">&lt;script src=&quot;https://npm.elemecdn.com/twikoo&quot;&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="code">&lt;script&gt;</span></span><br><span class="line"><span class="code">    function load_ispeak() &#123;</span></span><br><span class="line"><span class="code">        setTimeout(function() &#123;</span></span><br><span class="line"><span class="code">            var HEAD = document.getElementsByTagName(&#x27;head&#x27;)[0] || document.documentElement;</span></span><br><span class="line"><span class="code">            var src = &#x27;https://cdn1.tianli0.top/npm/ispeak/ispeak.umd.js&#x27;</span></span><br><span class="line"><span class="code">            var script = document.createElement(&#x27;script&#x27;)</span></span><br><span class="line"><span class="code">            script.setAttribute(&#x27;type&#x27;,&#x27;text/javascript&#x27;)</span></span><br><span class="line"><span class="code">            script.onload = function() &#123;</span></span><br><span class="line"><span class="code">               pjax_ispeak()</span></span><br><span class="line"><span class="code">            &#125;</span></span><br><span class="line"><span class="code">            script.setAttribute(&#x27;src&#x27;, src)</span></span><br><span class="line"><span class="code">            HEAD.appendChild(script)</span></span><br><span class="line"><span class="code">        &#125;, 1);</span></span><br><span class="line"><span class="code">    &#125;;</span></span><br><span class="line"><span class="code">    function pjax_ispeak() &#123;</span></span><br><span class="line"><span class="code">        if(!document.querySelectorAll(&quot;#ispeak&quot;)[0])return;</span></span><br><span class="line"><span class="code">        ispeak</span></span><br><span class="line"><span class="code">          .init(&#123;</span></span><br><span class="line"><span class="code">            el: &#x27;#ispeak&#x27;,//不用改</span></span><br><span class="line"><span class="code">            api: &#x27;&#x27;, //填写你kkapi地址（不是kkadmin后台地址！）</span></span><br><span class="line"><span class="code">            author: &#x27;&#x27;,//填写个人ID</span></span><br><span class="line"><span class="code">            pageSize: 10,//每页speak显示的条数（建议保持默认，除非你要魔改css）</span></span><br><span class="line"><span class="code">            loading_img: &#x27;https://bu.dusays.com/2021/03/04/d2d5e983e2961.gif&#x27;,//加载动画</span></span><br><span class="line"><span class="code">            comment: function (speak) &#123;</span></span><br><span class="line"><span class="code">              const &#123; _id, title, content &#125; = speak</span></span><br><span class="line"><span class="code">              const contentSub = content.substring(0, 30)</span></span><br><span class="line"><span class="code">              twikoo.init(&#123;</span></span><br><span class="line"><span class="code">                envId: &#x27;&#x27;, // 腾讯云环境填 envId；Vercel 环境填地址（https://xxx.vercel.app）</span></span><br><span class="line"><span class="code">                el: &#x27;.ispeak-comment&#x27;, // 不用改</span></span><br><span class="line"><span class="code">                //region: &#x27;ap-guangzhou&#x27;, // 环境地域，默认为 ap-shanghai，腾讯云环境填 ap-shanghai 或 ap-guangzhou；Vercel 环境不填</span></span><br><span class="line"><span class="code">                path: &#x27;/speak/info.html?q=&#x27; + _id, // 不用改</span></span><br><span class="line"><span class="code">                lang: &#x27;zh-CN&#x27;, // 用于手动设定评论区语言，支持的语言列表 https://github.com/imaegoo/twikoo/blob/main/src/client/utils/i18n/index.js</span></span><br><span class="line"><span class="code">              &#125;)</span></span><br><span class="line"><span class="code">            &#125;</span></span><br><span class="line"><span class="code">          &#125;);</span></span><br><span class="line"><span class="code">    &#125;</span></span><br><span class="line"><span class="code">    load_ispeak();</span></span><br><span class="line"><span class="code">    document.addEventListener(&#x27;pjax:complete&#x27;, function () &#123;</span></span><br><span class="line"><span class="code">        pjax_ispeak();</span></span><br><span class="line"><span class="code">    &#125;);</span></span><br><span class="line"><span class="code">&lt;/script&gt;</span></span><br><span class="line"><span class="code">&lt;!--建议标注末尾链接--&gt;</span></span><br><span class="line"><span class="code">&lt;p style=&quot;width: 100%;text-align: end;font-size: .75em;color: #999;margin-top: 1em;&quot;&gt;Powered by &lt;a href=&quot;https://www.antmoe.com/speak/&quot;&gt;&lt;strong&gt;iSpeak&lt;/strong&gt;&lt;/a&gt; | Comment by &lt;a href=&quot;https://twikoo.js.org/&quot;&gt;&lt;strong&gt;Twikoo&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt; </span></span><br><span class="line"><span class="code">&#123;% endraw %&#125;</span></span><br></pre></td></tr></table></figure></li><li>在[blogroot]\source\speaks\下新建info.md，内容为下：<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Speak</span><br><span class="line">aside: false</span><br><span class="line">comments: false</span><br><span class="line"><span class="section">description: 欢迎来到SinzMise的日记，快来看看SinzMise分享了什么！ # speak介绍</span></span><br><span class="line"><span class="section">---</span></span><br><span class="line">&lt;!-- CSS --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://cdn.staticfile.org/highlight.js/10.6.0/styles/atom-one-dark.min.css&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&#x27;content&#x27;</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#x27;https://bu.dusays.com/2022/05/01/626e88f349943.gif&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#123;% btn &#x27;/speaks/&#x27;,查看全部,far fa-hand-point-right,block center blue larger %&#125;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&#x27;ispeak-comment&#x27;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;!-- JS --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://npm.elemecdn.com/twikoo&quot;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/marked@4.0.18/marked.min.js&quot;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.staticfile.org/highlight.js/10.6.0/highlight.min.js&quot;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></span><br><span class="line">  const searchParams = new URLSearchParams(window.location.search);</span><br><span class="line">  const speakId = searchParams.get(&#x27;q&#x27;);</span><br><span class="line">  const path = window.location.pathname;</span><br><span class="line">  const apiURL = &#x27;https://（你的api地址）/api/ispeak&#x27;;</span><br><span class="line">  const markedRender = (body, loading<span class="emphasis">_img=&#x27;https://bu.dusays.com/2022/05/01/626e88f349943.gif&#x27;) =&gt; &#123;</span></span><br><span class="line"><span class="emphasis">    const renderer = &#123;</span></span><br><span class="line"><span class="emphasis">      image(href, title, text) &#123;</span></span><br><span class="line"><span class="emphasis">        return `<span class="language-xml"><span class="language-javascript">&lt;a href=<span class="string">&quot;$&#123;href&#125;&quot;</span> target=<span class="string">&quot;_blank&quot;</span> data-fancybox=<span class="string">&quot;group&quot;</span> <span class="keyword">class</span>=<span class="string">&quot;fancybox&quot;</span>&gt;</span></span></span></span><br><span class="line"><span class="emphasis">            <span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">speak-src</span>=<span class="string">&quot;$&#123;href&#125;&quot;</span> <span class="attr">src</span>=<span class="string">$&#123;loading_img&#125;</span> <span class="attr">alt</span>=<span class="string">&#x27;$&#123;text&#125;&#x27;</span>&gt;</span></span></span></span></span></span><br><span class="line"><span class="emphasis">            <span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span></span>`</span></span><br><span class="line"><span class="emphasis">      &#125;</span></span><br><span class="line"><span class="emphasis">    &#125;</span></span><br><span class="line"><span class="emphasis">    marked.setOptions(&#123;</span></span><br><span class="line"><span class="emphasis">      renderer: new marked.Renderer(),</span></span><br><span class="line"><span class="emphasis">      highlight: function (code) &#123;</span></span><br><span class="line"><span class="emphasis">        if (hljs) &#123;</span></span><br><span class="line"><span class="emphasis">          return hljs.highlightAuto(code).value</span></span><br><span class="line"><span class="emphasis">        &#125; else &#123;</span></span><br><span class="line"><span class="emphasis">          return code</span></span><br><span class="line"><span class="emphasis">        &#125;</span></span><br><span class="line"><span class="emphasis">      &#125;,</span></span><br><span class="line"><span class="emphasis">      pedantic: false,</span></span><br><span class="line"><span class="emphasis">      gfm: true,</span></span><br><span class="line"><span class="emphasis">      tables: true,</span></span><br><span class="line"><span class="emphasis">      breaks: true,</span></span><br><span class="line"><span class="emphasis">      sanitize: false,</span></span><br><span class="line"><span class="emphasis">      smartLists: true,</span></span><br><span class="line"><span class="emphasis">      smartypants: false,</span></span><br><span class="line"><span class="emphasis">      xhtml: false</span></span><br><span class="line"><span class="emphasis">    &#125;)</span></span><br><span class="line"><span class="emphasis">    marked.use(&#123; renderer &#125;)</span></span><br><span class="line"><span class="emphasis">    return marked.parse(body)</span></span><br><span class="line"><span class="emphasis">  &#125;</span></span><br><span class="line"><span class="emphasis">  fetch(`$&#123;apiURL&#125;/get/$&#123;speakId&#125;`)</span></span><br><span class="line"><span class="emphasis">  .then(response =&gt; response.json())</span></span><br><span class="line"><span class="emphasis">  .then(res =&gt; &#123;</span></span><br><span class="line"><span class="emphasis">    const data = res.data;</span></span><br><span class="line"><span class="emphasis">    if(data)&#123;</span></span><br><span class="line"><span class="emphasis">      const &#123;title,content&#125; = data;</span></span><br><span class="line"><span class="emphasis">      const contentSub = content.substring(0, 30);</span></span><br><span class="line"><span class="emphasis">      document.querySelector(&#x27;.content&#x27;).innerHTML = markedRender(content);</span></span><br><span class="line"><span class="emphasis">      if(title)&#123;</span></span><br><span class="line"><span class="emphasis">        document.title = title;</span></span><br><span class="line"><span class="emphasis">      &#125;</span></span><br><span class="line"><span class="emphasis">      twikoo.init(&#123;</span></span><br><span class="line"><span class="emphasis">        envId: &#x27;&#x27;, // 腾讯云环境填 envId；Vercel 环境填地址（https://xxx.vercel.app）</span></span><br><span class="line"><span class="emphasis">        el: &#x27;.ispeak-comment&#x27;, // 不用改</span></span><br><span class="line"><span class="emphasis">        //region: &#x27;ap-guangzhou&#x27;, // 环境地域，默认为 ap-shanghai，腾讯云环境填 ap-shanghai 或 ap-guangzhou；Vercel 环境不填</span></span><br><span class="line"><span class="emphasis">        path: path + &#x27;?q=&#x27; + speakId, // 不用改</span></span><br><span class="line"><span class="emphasis">        lang: &#x27;zh-CN&#x27;, // 用于手动设定评论区语言，支持的语言列表 https://github.com/imaegoo/twikoo/blob/main/src/client/utils/i18n/index.js</span></span><br><span class="line"><span class="emphasis">      &#125;)</span></span><br><span class="line"><span class="emphasis">    &#125;</span></span><br><span class="line"><span class="emphasis">  &#125;);</span></span><br><span class="line"><span class="emphasis"><span class="language-xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span></span><br></pre></td></tr></table></figure></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div><div class="tab-item-content" id="前端引入ispeak-3"><ol><li>在博客目录下运行<code>hexo new page speaks</code></li><li>编辑[blogroot]\source\speaks\index.md，将里面的内容替换成：<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 说说</span><br><span class="line">comments: false</span><br><span class="line"><span class="section">aside: false</span></span><br><span class="line"><span class="section">---</span></span><br><span class="line">&#123;% raw %&#125;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span></span><br><span class="line">  .speak-footer,.D-footer&#123;</span><br><span class="line"><span class="code">    display:none;</span></span><br><span class="line"><span class="code">  &#125;</span></span><br><span class="line"><span class="code">&lt;/style&gt;</span></span><br><span class="line"><span class="code">&lt;div id=&quot;ispeak&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="code">&lt;link</span></span><br><span class="line"><span class="code">  rel=&quot;stylesheet&quot;</span></span><br><span class="line"><span class="code">  href=&quot;https://cdn.staticfile.org/highlight.js/10.6.0/styles/atom-one-dark.min.css&quot;</span></span><br><span class="line"><span class="code">/&gt;</span></span><br><span class="line"><span class="code">&lt;link</span></span><br><span class="line"><span class="code">  rel=&quot;stylesheet&quot;</span></span><br><span class="line"><span class="code">  href=&quot;https://npm.elemecdn.com/ispeak@4.4.0/style.css&quot;</span></span><br><span class="line"><span class="code">/&gt;</span></span><br><span class="line"><span class="code">&lt;script src=&quot;https://cdn.staticfile.org/highlight.js/10.6.0/highlight.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="code">&lt;script src=&quot;https://cdn.staticfile.org/marked/2.0.0/marked.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="code">&lt;script src=&quot;https://npm.elemecdn.com/ispeak@4.4.0/ispeak.umd.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="code">&lt;script src=&quot;https://npm.elemecdn.com/discuss@latest/dist/discuss.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="code">&lt;script&gt;</span></span><br><span class="line"><span class="code">    function load_ispeak() &#123;</span></span><br><span class="line"><span class="code">        setTimeout(function() &#123;</span></span><br><span class="line"><span class="code">            var HEAD = document.getElementsByTagName(&#x27;head&#x27;)[0] || document.documentElement;</span></span><br><span class="line"><span class="code">            var src = &#x27;https://cdn1.tianli0.top/npm/ispeak/ispeak.umd.js&#x27;</span></span><br><span class="line"><span class="code">            var script = document.createElement(&#x27;script&#x27;)</span></span><br><span class="line"><span class="code">            script.setAttribute(&#x27;type&#x27;,&#x27;text/javascript&#x27;)</span></span><br><span class="line"><span class="code">            script.onload = function() &#123;</span></span><br><span class="line"><span class="code">               pjax_ispeak()</span></span><br><span class="line"><span class="code">            &#125;</span></span><br><span class="line"><span class="code">            script.setAttribute(&#x27;src&#x27;, src)</span></span><br><span class="line"><span class="code">            HEAD.appendChild(script)</span></span><br><span class="line"><span class="code">        &#125;, 1);</span></span><br><span class="line"><span class="code">    &#125;;</span></span><br><span class="line"><span class="code">    function pjax_ispeak() &#123;</span></span><br><span class="line"><span class="code">        if(!document.querySelectorAll(&quot;#ispeak&quot;)[0])return;</span></span><br><span class="line"><span class="code">        ispeak</span></span><br><span class="line"><span class="code">          .init(&#123;</span></span><br><span class="line"><span class="code">            el: &#x27;#ispeak&#x27;,//不用改</span></span><br><span class="line"><span class="code">            api: &#x27;&#x27;, //填写你kkapi地址（不是kkadmin后台地址！）</span></span><br><span class="line"><span class="code">            author: &#x27;&#x27;,//填写个人ID</span></span><br><span class="line"><span class="code">            pageSize: 10,//每页speak显示的条数（建议保持默认，除非你要魔改css）</span></span><br><span class="line"><span class="code">            loading_img: &#x27;https://bu.dusays.com/2021/03/04/d2d5e983e2961.gif&#x27;,//加载动画</span></span><br><span class="line"><span class="code">            comment: function (speak) &#123;</span></span><br><span class="line"><span class="code">              const &#123; _id, title, content &#125; = speak</span></span><br><span class="line"><span class="code">              const contentSub = content.substring(0, 30)</span></span><br><span class="line"><span class="code">              discuss.init(&#123;</span></span><br><span class="line"><span class="code">                  el: &#x27;.ispeak-comment&#x27;,// 不用改</span></span><br><span class="line"><span class="code">                  serverURLs: &#x27;&#x27;,//填写你的Discuss服务端地址</span></span><br><span class="line"><span class="code">                  path: &#x27;/speak/info.html?q=&#x27; + _id,//不用改</span></span><br><span class="line"><span class="code">                  //后面可按照https://discuss.js.org/Quick-Start.html#%E5%AE%A2%E6%88%B7%E7%AB%AF-client 修改（必须放在path后面！以下为一个例子）</span></span><br><span class="line"><span class="code">                  ph: &#x27;千山万水总是情，给个评论行不行&#x27; ,//评论框占位符</span></span><br><span class="line"><span class="code">                  imgLoading: &#x27;https://bu.dusays.com/2021/03/04/d2d5e983e2961.gif&#x27;//评论图片加载动画</span></span><br><span class="line"><span class="code">                &#125;)</span></span><br><span class="line"><span class="code">            &#125;</span></span><br><span class="line"><span class="code">          &#125;);</span></span><br><span class="line"><span class="code">    &#125;</span></span><br><span class="line"><span class="code">    load_ispeak();</span></span><br><span class="line"><span class="code">    document.addEventListener(&#x27;pjax:complete&#x27;, function () &#123;</span></span><br><span class="line"><span class="code">        pjax_ispeak();</span></span><br><span class="line"><span class="code">    &#125;);</span></span><br><span class="line"><span class="code">&lt;/script&gt;</span></span><br><span class="line"><span class="code">&lt;!--建议标注末尾链接--&gt;</span></span><br><span class="line"><span class="code">&lt;p style=&quot;width: 100%;text-align: end;font-size: .75em;color: #999;margin-top: 1em;&quot;&gt;Powered by &lt;a href=&quot;https://www.antmoe.com/speak/&quot;&gt;&lt;strong&gt;iSpeak&lt;/strong&gt;&lt;/a&gt; | Comment by &lt;a href=&quot;https://discuss.js.org/&quot;&gt;&lt;strong&gt;Discuss&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt; </span></span><br><span class="line"><span class="code">&#123;% endraw %&#125;</span></span><br></pre></td></tr></table></figure></li><li>在[blogroot]\source\speaks\下新建info.md，内容为下：<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Speak</span><br><span class="line">aside: false</span><br><span class="line">comments: false</span><br><span class="line"><span class="section">description: 欢迎来到SinzMise的日记，快来看看SinzMise分享了什么！ # speak介绍</span></span><br><span class="line"><span class="section">---</span></span><br><span class="line">&lt;!-- CSS --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://cdn.staticfile.org/highlight.js/10.6.0/styles/atom-one-dark.min.css&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&#x27;content&#x27;</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#x27;https://bu.dusays.com/2022/05/01/626e88f349943.gif&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#123;% btn &#x27;/speaks/&#x27;,查看全部,far fa-hand-point-right,block center blue larger %&#125;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&#x27;ispeak-comment&#x27;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;!-- JS --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://npm.elemecdn.com/discuss@latest/dist/discuss.js&quot;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/marked@4.0.18/marked.min.js&quot;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.staticfile.org/highlight.js/10.6.0/highlight.min.js&quot;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></span><br><span class="line">  const searchParams = new URLSearchParams(window.location.search);</span><br><span class="line">  const speakId = searchParams.get(&#x27;q&#x27;);</span><br><span class="line">  const path = window.location.pathname;</span><br><span class="line">  const apiURL = &#x27;https://（你的api地址）/api/ispeak&#x27;; //api地址</span><br><span class="line">  const markedRender = (body, loading<span class="emphasis">_img=&#x27;https://bu.dusays.com/2022/05/01/626e88f349943.gif&#x27;) =&gt; &#123;</span></span><br><span class="line"><span class="emphasis">    const renderer = &#123;</span></span><br><span class="line"><span class="emphasis">      image(href, title, text) &#123;</span></span><br><span class="line"><span class="emphasis">        return `<span class="language-xml"><span class="language-javascript">&lt;a href=<span class="string">&quot;$&#123;href&#125;&quot;</span> target=<span class="string">&quot;_blank&quot;</span> data-fancybox=<span class="string">&quot;group&quot;</span> <span class="keyword">class</span>=<span class="string">&quot;fancybox&quot;</span>&gt;</span></span></span></span><br><span class="line"><span class="emphasis">            <span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">speak-src</span>=<span class="string">&quot;$&#123;href&#125;&quot;</span> <span class="attr">src</span>=<span class="string">$&#123;loading_img&#125;</span> <span class="attr">alt</span>=<span class="string">&#x27;$&#123;text&#125;&#x27;</span>&gt;</span></span></span></span></span></span><br><span class="line"><span class="emphasis">            <span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span></span>`</span></span><br><span class="line"><span class="emphasis">      &#125;</span></span><br><span class="line"><span class="emphasis">    &#125;</span></span><br><span class="line"><span class="emphasis">    marked.setOptions(&#123;</span></span><br><span class="line"><span class="emphasis">      renderer: new marked.Renderer(),</span></span><br><span class="line"><span class="emphasis">      highlight: function (code) &#123;</span></span><br><span class="line"><span class="emphasis">        if (hljs) &#123;</span></span><br><span class="line"><span class="emphasis">          return hljs.highlightAuto(code).value</span></span><br><span class="line"><span class="emphasis">        &#125; else &#123;</span></span><br><span class="line"><span class="emphasis">          return code</span></span><br><span class="line"><span class="emphasis">        &#125;</span></span><br><span class="line"><span class="emphasis">      &#125;,</span></span><br><span class="line"><span class="emphasis">      pedantic: false,</span></span><br><span class="line"><span class="emphasis">      gfm: true,</span></span><br><span class="line"><span class="emphasis">      tables: true,</span></span><br><span class="line"><span class="emphasis">      breaks: true,</span></span><br><span class="line"><span class="emphasis">      sanitize: false,</span></span><br><span class="line"><span class="emphasis">      smartLists: true,</span></span><br><span class="line"><span class="emphasis">      smartypants: false,</span></span><br><span class="line"><span class="emphasis">      xhtml: false</span></span><br><span class="line"><span class="emphasis">    &#125;)</span></span><br><span class="line"><span class="emphasis">    marked.use(&#123; renderer &#125;)</span></span><br><span class="line"><span class="emphasis">    return marked.parse(body)</span></span><br><span class="line"><span class="emphasis">  &#125;</span></span><br><span class="line"><span class="emphasis">  fetch(`$&#123;apiURL&#125;/get/$&#123;speakId&#125;`)</span></span><br><span class="line"><span class="emphasis">  .then(response =&gt; response.json())</span></span><br><span class="line"><span class="emphasis">  .then(res =&gt; &#123;</span></span><br><span class="line"><span class="emphasis">    const data = res.data;</span></span><br><span class="line"><span class="emphasis">    if(data)&#123;</span></span><br><span class="line"><span class="emphasis">      const &#123;title,content&#125; = data;</span></span><br><span class="line"><span class="emphasis">      const contentSub = content.substring(0, 30);</span></span><br><span class="line"><span class="emphasis">      document.querySelector(&#x27;.content&#x27;).innerHTML = markedRender(content);</span></span><br><span class="line"><span class="emphasis">      if(title)&#123;</span></span><br><span class="line"><span class="emphasis">        document.title = title;</span></span><br><span class="line"><span class="emphasis">      &#125;</span></span><br><span class="line"><span class="emphasis">      discuss.init(&#123;</span></span><br><span class="line"><span class="emphasis">            el: &#x27;.ispeak-comment&#x27;,// 不用改</span></span><br><span class="line"><span class="emphasis">            serverURLs: &#x27;&#x27;,//填写你的Discuss服务端地址</span></span><br><span class="line"><span class="emphasis">            path: path + &#x27;?q=&#x27; + speakId,// 不用改</span></span><br><span class="line"><span class="emphasis">            //后面可按照https://discuss.js.org/Quick-Start.html#%E5%AE%A2%E6%88%B7%E7%AB%AF-client 修改（必须放在path后面！以下为一个例子）</span></span><br><span class="line"><span class="emphasis">            ph: &#x27;千山万水总是情，给个评论行不行&#x27; ,//评论框占位符</span></span><br><span class="line"><span class="emphasis">            imgLoading: &#x27;https://bu.dusays.com/2021/03/04/d2d5e983e2961.gif&#x27;//评论图片加载动画</span></span><br><span class="line"><span class="emphasis">          &#125;)</span></span><br><span class="line"><span class="emphasis">    &#125;</span></span><br><span class="line"><span class="emphasis">  &#125;);</span></span><br><span class="line"><span class="emphasis"><span class="language-xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span></span><br></pre></td></tr></table></figure></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div><div class="tab-item-content" id="前端引入ispeak-4"><ol><li>在博客目录下运行<code>hexo new page speaks</code></li><li>编辑[blogroot]\source\speaks\index.md，将里面的内容替换成：<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 说说</span><br><span class="line">comments: false</span><br><span class="line"><span class="section">aside: false</span></span><br><span class="line"><span class="section">---</span></span><br><span class="line">&#123;% raw %&#125;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span></span><br><span class="line">  .speak-footer,.atk-list-footer&#123;</span><br><span class="line"><span class="code">    display:none;</span></span><br><span class="line"><span class="code">  &#125;</span></span><br><span class="line"><span class="code">&lt;/style&gt;</span></span><br><span class="line"><span class="code">&lt;div id=&quot;ispeak&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="code">&lt;link</span></span><br><span class="line"><span class="code">  rel=&quot;stylesheet&quot;</span></span><br><span class="line"><span class="code">  href=&quot;https://cdn.staticfile.org/highlight.js/10.6.0/styles/atom-one-dark.min.css&quot;</span></span><br><span class="line"><span class="code">/&gt;</span></span><br><span class="line"><span class="code">&lt;link</span></span><br><span class="line"><span class="code">  rel=&quot;stylesheet&quot;</span></span><br><span class="line"><span class="code">  href=&quot;https://npm.elemecdn.com/ispeak@4.4.0/style.css&quot;</span></span><br><span class="line"><span class="code">/&gt;</span></span><br><span class="line"><span class="code">&lt;script src=&quot;https://cdn.staticfile.org/highlight.js/10.6.0/highlight.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="code">&lt;script src=&quot;https://cdn.staticfile.org/marked/2.0.0/marked.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="code">&lt;script src=&quot;https://npm.elemecdn.com/ispeak@4.4.0/ispeak.umd.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="code">&lt;!-- CSS --&gt;</span></span><br><span class="line"><span class="code">&lt;link href=&quot;https://unpkg.com/artalk@2.3.4/dist/Artalk.css&quot; rel=&quot;stylesheet&quot; /&gt;</span></span><br><span class="line"><span class="code">&lt;!-- JS --&gt;</span></span><br><span class="line"><span class="code">&lt;script src=&quot;https://unpkg.com/artalk@2.3.4/dist/Artalk.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="code">&lt;script&gt;</span></span><br><span class="line"><span class="code">    function load_ispeak() &#123;</span></span><br><span class="line"><span class="code">        setTimeout(function() &#123;</span></span><br><span class="line"><span class="code">            var HEAD = document.getElementsByTagName(&#x27;head&#x27;)[0] || document.documentElement;</span></span><br><span class="line"><span class="code">            var src = &#x27;https://cdn1.tianli0.top/npm/ispeak/ispeak.umd.js&#x27;</span></span><br><span class="line"><span class="code">            var script = document.createElement(&#x27;script&#x27;)</span></span><br><span class="line"><span class="code">            script.setAttribute(&#x27;type&#x27;,&#x27;text/javascript&#x27;)</span></span><br><span class="line"><span class="code">            script.onload = function() &#123;</span></span><br><span class="line"><span class="code">               pjax_ispeak()</span></span><br><span class="line"><span class="code">            &#125;</span></span><br><span class="line"><span class="code">            script.setAttribute(&#x27;src&#x27;, src)</span></span><br><span class="line"><span class="code">            HEAD.appendChild(script)</span></span><br><span class="line"><span class="code">        &#125;, 1);</span></span><br><span class="line"><span class="code">    &#125;;</span></span><br><span class="line"><span class="code">    function pjax_ispeak() &#123;</span></span><br><span class="line"><span class="code">        if(!document.querySelectorAll(&quot;#ispeak&quot;)[0])return;</span></span><br><span class="line"><span class="code">        ispeak</span></span><br><span class="line"><span class="code">          .init(&#123;</span></span><br><span class="line"><span class="code">            el: &#x27;#ispeak&#x27;,//不用改</span></span><br><span class="line"><span class="code">            api: &#x27;&#x27;, //填写你kkapi地址（不是kkadmin后台地址！）</span></span><br><span class="line"><span class="code">            author: &#x27;&#x27;,//填写个人ID</span></span><br><span class="line"><span class="code">            pageSize: 10,//每页speak显示的条数（建议保持默认，除非你要魔改css）</span></span><br><span class="line"><span class="code">            loading_img: &#x27;https://bu.dusays.com/2021/03/04/d2d5e983e2961.gif&#x27;,//加载动画</span></span><br><span class="line"><span class="code">            comment: function (speak) &#123;</span></span><br><span class="line"><span class="code">              const &#123; _id, title, content &#125; = speak</span></span><br><span class="line"><span class="code">              const contentSub = content.substring(0, 30)</span></span><br><span class="line"><span class="code">              new Artalk(&#123;</span></span><br><span class="line"><span class="code">            el: &#x27;.ispeak-comment&#x27;, // 不用改</span></span><br><span class="line"><span class="code">            pageKey: &#x27;/speak/info.html?q=&#x27; + _id, // 不用改</span></span><br><span class="line"><span class="code">            pageTitle: title || contentSub, // 不用改</span></span><br><span class="line"><span class="code">            server: &#x27;&#x27;, //填写你的Artalk服务端地址</span></span><br><span class="line"><span class="code">            site: &#x27;&#x27; // 填写你的站点名</span></span><br><span class="line"><span class="code">          &#125;)</span></span><br><span class="line"><span class="code">            &#125;</span></span><br><span class="line"><span class="code">          &#125;);</span></span><br><span class="line"><span class="code">    &#125;</span></span><br><span class="line"><span class="code">    load_ispeak();</span></span><br><span class="line"><span class="code">    document.addEventListener(&#x27;pjax:complete&#x27;, function () &#123;</span></span><br><span class="line"><span class="code">        pjax_ispeak();</span></span><br><span class="line"><span class="code">    &#125;);</span></span><br><span class="line"><span class="code">&lt;/script&gt;</span></span><br><span class="line"><span class="code">&lt;!--建议标注末尾链接--&gt;</span></span><br><span class="line"><span class="code">&lt;p style=&quot;width: 100%;text-align: end;font-size: .75em;color: #999;margin-top: 1em;&quot;&gt;Powered by &lt;a href=&quot;https://www.antmoe.com/speak/&quot;&gt;&lt;strong&gt;iSpeak&lt;/strong&gt;&lt;/a&gt; | Comment by &lt;a href=&quot;https://artalk.js.org/&quot;&gt;&lt;strong&gt;Artalk&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt; </span></span><br><span class="line"><span class="code">&#123;% endraw %&#125;</span></span><br></pre></td></tr></table></figure></li><li>在[blogroot]\source\speaks\下新建info.md，内容为下：<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Speak</span><br><span class="line">aside: false</span><br><span class="line">comments: false</span><br><span class="line"><span class="section">description: 欢迎来到SinzMise的日记，快来看看SinzMise分享了什么！ # speak介绍</span></span><br><span class="line"><span class="section">---</span></span><br><span class="line">&lt;!-- CSS --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;https://unpkg.com/artalk@2.3.4/dist/Artalk.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://cdn.staticfile.org/highlight.js/10.6.0/styles/atom-one-dark.min.css&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&#x27;content&#x27;</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#x27;https://bu.dusays.com/2022/05/01/626e88f349943.gif&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#123;% btn &#x27;/speaks/&#x27;,查看全部,far fa-hand-point-right,block center blue larger %&#125;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&#x27;ispeak-comment&#x27;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;!-- JS --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/artalk@2.3.4/dist/Artalk.js&quot;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/marked@4.0.18/marked.min.js&quot;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.staticfile.org/highlight.js/10.6.0/highlight.min.js&quot;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></span><br><span class="line">  const searchParams = new URLSearchParams(window.location.search);</span><br><span class="line">  const speakId = searchParams.get(&#x27;q&#x27;);</span><br><span class="line">  const path = window.location.pathname;</span><br><span class="line">  const apiURL = &#x27;https://（你的api地址）/api/ispeak&#x27;;</span><br><span class="line">  const markedRender = (body, loading<span class="emphasis">_img=&#x27;https://bu.dusays.com/2022/05/01/626e88f349943.gif&#x27;) =&gt; &#123;</span></span><br><span class="line"><span class="emphasis">    const renderer = &#123;</span></span><br><span class="line"><span class="emphasis">      image(href, title, text) &#123;</span></span><br><span class="line"><span class="emphasis">        return `<span class="language-xml"><span class="language-javascript">&lt;a href=<span class="string">&quot;$&#123;href&#125;&quot;</span> target=<span class="string">&quot;_blank&quot;</span> data-fancybox=<span class="string">&quot;group&quot;</span> <span class="keyword">class</span>=<span class="string">&quot;fancybox&quot;</span>&gt;</span></span></span></span><br><span class="line"><span class="emphasis">            <span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">speak-src</span>=<span class="string">&quot;$&#123;href&#125;&quot;</span> <span class="attr">src</span>=<span class="string">$&#123;loading_img&#125;</span> <span class="attr">alt</span>=<span class="string">&#x27;$&#123;text&#125;&#x27;</span>&gt;</span></span></span></span></span></span><br><span class="line"><span class="emphasis">            <span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span></span>`</span></span><br><span class="line"><span class="emphasis">      &#125;</span></span><br><span class="line"><span class="emphasis">    &#125;</span></span><br><span class="line"><span class="emphasis">    marked.setOptions(&#123;</span></span><br><span class="line"><span class="emphasis">      renderer: new marked.Renderer(),</span></span><br><span class="line"><span class="emphasis">      highlight: function (code) &#123;</span></span><br><span class="line"><span class="emphasis">        if (hljs) &#123;</span></span><br><span class="line"><span class="emphasis">          return hljs.highlightAuto(code).value</span></span><br><span class="line"><span class="emphasis">        &#125; else &#123;</span></span><br><span class="line"><span class="emphasis">          return code</span></span><br><span class="line"><span class="emphasis">        &#125;</span></span><br><span class="line"><span class="emphasis">      &#125;,</span></span><br><span class="line"><span class="emphasis">      pedantic: false,</span></span><br><span class="line"><span class="emphasis">      gfm: true,</span></span><br><span class="line"><span class="emphasis">      tables: true,</span></span><br><span class="line"><span class="emphasis">      breaks: true,</span></span><br><span class="line"><span class="emphasis">      sanitize: false,</span></span><br><span class="line"><span class="emphasis">      smartLists: true,</span></span><br><span class="line"><span class="emphasis">      smartypants: false,</span></span><br><span class="line"><span class="emphasis">      xhtml: false</span></span><br><span class="line"><span class="emphasis">    &#125;)</span></span><br><span class="line"><span class="emphasis">    marked.use(&#123; renderer &#125;)</span></span><br><span class="line"><span class="emphasis">    return marked.parse(body)</span></span><br><span class="line"><span class="emphasis">  &#125;</span></span><br><span class="line"><span class="emphasis">  fetch(`$&#123;apiURL&#125;/get/$&#123;speakId&#125;`)</span></span><br><span class="line"><span class="emphasis">  .then(response =&gt; response.json())</span></span><br><span class="line"><span class="emphasis">  .then(res =&gt; &#123;</span></span><br><span class="line"><span class="emphasis">    const data = res.data;</span></span><br><span class="line"><span class="emphasis">    if(data)&#123;</span></span><br><span class="line"><span class="emphasis">      const &#123;title,content&#125; = data;</span></span><br><span class="line"><span class="emphasis">      const contentSub = content.substring(0, 30);</span></span><br><span class="line"><span class="emphasis">      document.querySelector(&#x27;.content&#x27;).innerHTML = markedRender(content);</span></span><br><span class="line"><span class="emphasis">      if(title)&#123;</span></span><br><span class="line"><span class="emphasis">        document.title = title;</span></span><br><span class="line"><span class="emphasis">      &#125;</span></span><br><span class="line"><span class="emphasis">      new Artalk(&#123;</span></span><br><span class="line"><span class="emphasis">            el: &#x27;.ispeak-comment&#x27;, // 不用改</span></span><br><span class="line"><span class="emphasis">            pageKey: path + &#x27;?q=&#x27; + speakId, // 不用改</span></span><br><span class="line"><span class="emphasis">            pageTitle: title || contentSub, // 不用改</span></span><br><span class="line"><span class="emphasis">            server: &#x27;&#x27;, //填写你的Artalk服务端地址</span></span><br><span class="line"><span class="emphasis">            site: &#x27;&#x27; // 填写你的站点名</span></span><br><span class="line"><span class="emphasis">          &#125;)</span></span><br><span class="line"><span class="emphasis">    &#125;</span></span><br><span class="line"><span class="emphasis">  &#125;);</span></span><br><span class="line"><span class="emphasis"><span class="language-xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span></span><br></pre></td></tr></table></figure></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div></div>]]></content>
    
    
    <summary type="html">这篇文章是我之前写过的教程的重写</summary>
    
    
    
    <category term="折腾" scheme="https://blog.sinzmise.top/categories/%E6%8A%98%E8%85%BE/"/>
    
    <category term="Hexo" scheme="https://blog.sinzmise.top/categories/%E6%8A%98%E8%85%BE/Hexo/"/>
    
    
    <category term="Hexo" scheme="https://blog.sinzmise.top/tags/Hexo/"/>
    
    <category term="Butterfly" scheme="https://blog.sinzmise.top/tags/Butterfly/"/>
    
    <category term="说说" scheme="https://blog.sinzmise.top/tags/%E8%AF%B4%E8%AF%B4/"/>
    
    <category term="ispeak" scheme="https://blog.sinzmise.top/tags/ispeak/"/>
    
  </entry>
  
  <entry>
    <title>butterfly主题添加音乐页面（适配手机）</title>
    <link href="https://blog.sinzmise.top/posts/22945/"/>
    <id>https://blog.sinzmise.top/posts/22945/</id>
    <published>2023-01-08T14:31:46.000Z</published>
    <updated>2023-07-08T11:46:43.132Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><div class="note info modern"><p>本博客音乐页面已经换成了<a href="https://anzhiy.cn/posts/c3d3.html">安知鱼大佬的方案</a></p></div><p>没有音乐页面怎么行，花里胡哨的都安排上，本来想摆烂直接上aplayer，<del>但考虑到我不会写样式（虽然我可以自学）</del> 所以我音乐页面用的是<a href="https://www.chuckle.top/article/3322c8a8.html">Chuckle的方案</a></p><psw>（等会为啥开头这么像<a href=https://www.chuckle.top/article/3322c8a8.html>这篇文章</a>）</psw><p>原本我是想做<a href="https://www.chuckle.top/article/eb3a4679.html">单页背景透明</a>的，但我发现单页背景透明和我博客背景冲突导致丑的一批，所以我把背景换成了渐变动画<br>以下是我之前的音乐页面：<br><img src="https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/20230109/msedge_x1MaJIbBQg.2ka3d6xxnu80.webp" alt="msedge_x1MaJIbBQg"><br>别问为啥是之前，这个音乐页面手机访问是这样的：<br><img src="https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/20230109/Screenshot_2023-01-09-09-59-57-499_com.2sej4yl2vuw0.webp" alt="Screenshot_2023-01-09-09-59-57-499_com"><br>当时我还以为是浏览器的问题，立即换成了Chrome浏览器，结果：<br><img src="https://cdn.staticaly.com/gh/SinzMise/MYPictures@master/20230109/Screenshot_2023-01-09-10-02-41-554_com.6tcc3lty2uo0.webp" alt="Screenshot_2023-01-09-10-02-41-554_com"><br>（后来我用手机访问了那位大佬的音乐页面，也是一样出现这个问题，之前有人反映过这位大佬，大佬说自己去适配，<del>但我懒得适配，于是就有了这个教程</del> ）</p><h1 id="教程"><a href="#教程" class="headerlink" title="教程"></a>教程</h1><div class="tabs" id="教程开始"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#教程开始-1">1.0</button></li><li class="tab active"><button type="button" data-href="#教程开始-2">2.0</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="教程开始-1"><div class="note info modern"><p>这个教程是我基于<a href="https://www.php.cn/xiazai/js/6169">https://www.php.cn/xiazai/js/6169</a> 做的适配butterfly主题的版本，但后面我发现这跟csdn里的<a href="https://blog.csdn.net/weixin_43151418/article/details/125351391">html好看的音乐播放器</a><psw>（希望csdn那篇文章的作者看完不会在意）</psw></p></div><div class="note warning modern"><p>目前博客已经弃用这个方案，改用2.0版本</p></div>1. 新建[Blogroot]\themes\butterfly\layout\includes\page\music.pug，内容如下：<details class="folding-tag" green><summary> 点我查看代码 </summary>              <div class='content'>              <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">link(rel=&#x27;stylesheet&#x27; href=&#x27;/css/musics.css&#x27;)</span><br><span class="line">.player</span><br><span class="line">  .player__header</span><br><span class="line">    .player__img.player__img--absolute.slider</span><br><span class="line">      button.player__button.player__button--absolute--nw.playlist</span><br><span class="line">        img(src=&#x27;/svg/playlist.svg&#x27;, alt=&#x27;playlist-icon&#x27;)</span><br><span class="line">      button.player__button.player__button--absolute--center.play</span><br><span class="line">        img(src=&#x27;/svg/play.svg&#x27;, alt=&#x27;play-icon&#x27;)</span><br><span class="line">        img(src=&#x27;/svg/pause.svg&#x27;, alt=&#x27;pause-icon&#x27;)</span><br><span class="line">      .slider__content</span><br><span class="line">        each item in theme.musicplayer.musics</span><br><span class="line">          img.img.slider__img(src=item.image, alt=&#x27;cover&#x27;)</span><br><span class="line">    .player__controls</span><br><span class="line">      button.player__button.back</span><br><span class="line">        img.img(src=&#x27;/svg/back.svg&#x27;, alt=&#x27;back-icon&#x27;)</span><br><span class="line">      p.player__context.slider__context</span><br><span class="line">        strong.slider__title</span><br><span class="line">        span.slider__name.player__title</span><br><span class="line">      button.player__button.next</span><br><span class="line">        img.img(src=&#x27;/svg/next.svg&#x27;, alt=&#x27;next-icon&#x27;)</span><br><span class="line">      .progres</span><br><span class="line">        .progres__filled</span><br><span class="line">  ul.player__playlist.list</span><br><span class="line">    each musics in theme.musicplayer.musics</span><br><span class="line">      li.player__song</span><br><span class="line">        img.player__img.img(src=musics.image, alt=&#x27;cover&#x27;)</span><br><span class="line">        p.player__context</span><br><span class="line">          b.player__song-name=musics.name</span><br><span class="line">          span.flex</span><br><span class="line">            span.player__title=musics.author</span><br><span class="line">            span.player__song-time</span><br><span class="line">        audio.audio(src=musics.url)</span><br><span class="line">if theme.musicplayer.hitokoto</span><br><span class="line">  p#hitokoto</span><br><span class="line">    a#hitokoto_text(href=&quot;#&quot;,target=&quot;_blank&quot;) :D 获取中...</span><br><span class="line">script(src=&#x27;/js/player.js&#x27;)</span><br><span class="line">if theme.musicplayer.hitokoto</span><br><span class="line">  script.</span><br><span class="line">    fetch(&#x27;https://v1.hitokoto.cn&#x27;)</span><br><span class="line">      .then(response =&gt; response.json())</span><br><span class="line">      .then(data =&gt; &#123;</span><br><span class="line">        const hitokoto = document.querySelector(&#x27;#hitokoto_text&#x27;)</span><br><span class="line">        hitokoto.href = `https://hitokoto.cn/?uuid=$&#123;data.uuid&#125;`</span><br><span class="line">        hitokoto.innerText = data.hitokoto + &quot; —— &quot; + data.creator + &quot;「&quot; + data.from + &quot;」&quot;</span><br><span class="line">      &#125;)</span><br><span class="line">      .catch(console.error)</span><br></pre></td></tr></table></figure>              </div>            </details>2. 在[blogroot]\themes\butterfly\source\css\目录下新建musics.css,内容如下：<details class="folding-tag" green><summary> 点我查看代码 </summary>              <div class='content'>              <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br></pre></td><td class="code"><pre><span class="line">::root &#123;</span><br><span class="line">    <span class="attr">--parent-height</span> : <span class="number">20em</span> ;</span><br><span class="line">    <span class="attr">--duration</span>: <span class="number">1s</span> ;</span><br><span class="line">    <span class="attr">--duration-text-wrap</span>: <span class="number">12s</span> <span class="number">1.5s</span> <span class="built_in">cubic-bezier</span>(<span class="number">0.82</span>, <span class="number">0.82</span>, <span class="number">1</span>, <span class="number">1.01</span>) ;</span><br><span class="line">    <span class="attr">--cubic-header</span>: <span class="built_in">var</span>(--duration) <span class="built_in">cubic-bezier</span>(<span class="number">0.71</span>, <span class="number">0.21</span>, <span class="number">0.3</span>, <span class="number">0.95</span>) ;</span><br><span class="line">    <span class="attr">--cubic-slider</span> : <span class="built_in">var</span>(--duration) <span class="built_in">cubic-bezier</span>(<span class="number">0.4</span>, <span class="number">0</span>, <span class="number">0.2</span>, <span class="number">1</span>) ;</span><br><span class="line">    <span class="attr">--cubic-play-list</span> : .<span class="number">35s</span> <span class="built_in">var</span>(--duration) <span class="built_in">cubic-bezier</span>(<span class="number">0</span>, <span class="number">0.85</span>, <span class="number">0.11</span>, <span class="number">1.64</span>) ;</span><br><span class="line">    <span class="attr">--cubic-slider-context</span> : <span class="built_in">cubic-bezier</span>(<span class="number">1</span>, -<span class="number">0.01</span>, <span class="number">1</span>, <span class="number">1.01</span>) ; </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.img</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span> ;</span><br><span class="line">    <span class="attribute">display</span>: block ;</span><br><span class="line">    <span class="attribute">object-fit</span>: cover ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.list</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> ;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> ;</span><br><span class="line">    <span class="attribute">list-style-type</span>: none ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.flex</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">display</span>: flex ;</span><br><span class="line">    <span class="attribute">align-items</span>: center ;</span><br><span class="line">    <span class="attribute">justify-content</span>: space-between ;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.uppercase</span>&#123;</span><br><span class="line">  </span><br><span class="line">    <span class="attribute">text-transform</span>: uppercase ;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">width</span>: <span class="number">17.15em</span> ;</span><br><span class="line">    <span class="attribute">display</span>: flex ;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden ;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">1.22em</span> ;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">1.35em</span> ;</span><br><span class="line">    <span class="attribute">flex-direction</span>: column ;</span><br><span class="line">    <span class="attribute">background-color</span>: white ;</span><br><span class="line">    <span class="attribute">height</span>: <span class="built_in">var</span>(--parent-height) ;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span> auto ;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player__header</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">1</span> ;</span><br><span class="line">    <span class="attribute">gap</span>: <span class="number">0</span> .<span class="number">4em</span> ;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span> ;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">5.85em</span> ;</span><br><span class="line">    <span class="attribute">flex-shrink</span>: <span class="number">0</span> ;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">align-items</span>: flex-start ;</span><br><span class="line">    <span class="attribute">border-radius</span>: inherit ;</span><br><span class="line">    <span class="attribute">justify-content</span>: flex-end ;</span><br><span class="line">    <span class="attribute">background-color</span>: white  ;</span><br><span class="line">    <span class="attribute">padding</span>: .<span class="number">95em</span> <span class="number">0.6em</span> <span class="number">0</span> <span class="number">1.2em</span> ;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">2px</span> <span class="number">6px</span> <span class="number">1px</span> <span class="number">#0000001f</span> ;</span><br><span class="line">    <span class="attribute">transition</span>: height <span class="built_in">var</span>(--cubic-header), box-shadow <span class="built_in">var</span>(--duration), padding <span class="built_in">var</span>(--duration) ease-in-out ;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player__header</span><span class="selector-class">.open-header</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span> ;</span><br><span class="line">    <span class="attribute">padding-left</span>: <span class="number">0</span> ;</span><br><span class="line">    <span class="attribute">padding-right</span>: <span class="number">0</span> ;</span><br><span class="line">    <span class="attribute">box-shadow</span>: unset ;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player__img</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">width</span>: <span class="number">3.2em</span> ;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">3.2em</span> ;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">1.32em</span> ;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player__img--absolute</span> &#123;</span><br><span class="line">  </span><br><span class="line">    <span class="attribute">top</span>: <span class="number">1.4em</span> ;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">1.2em</span> ;</span><br><span class="line">    <span class="attribute">position</span>: absolute ;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.slider</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">flex-shrink</span>: <span class="number">0</span> ;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden ;</span><br><span class="line">    <span class="attribute">transition</span>: width <span class="built_in">var</span>(--cubic-header), height <span class="built_in">var</span>(--cubic-header), top <span class="built_in">var</span>(--cubic-header), left <span class="built_in">var</span>(--cubic-header);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.slider</span><span class="selector-class">.open-slider</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span> ;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span> ;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span> ;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">14.6em</span> ;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.slider__content</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">display</span>: flex ;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span> ;</span><br><span class="line">    <span class="attribute">transition</span>: transform <span class="built_in">var</span>(--cubic-slider);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.slider__img</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">filter</span>: <span class="built_in">brightness</span>(<span class="number">75%</span>) ;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.slider__name</span>, </span><br><span class="line"><span class="selector-class">.slider__title</span> &#123;</span><br><span class="line">  </span><br><span class="line">    <span class="attribute">overflow</span>: hidden ;</span><br><span class="line">    <span class="attribute">white-space</span>: nowrap ;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.text-wrap</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">display</span>: block ;</span><br><span class="line">    <span class="attribute">white-space</span>: pre ;</span><br><span class="line">    <span class="attribute">width</span>: fit-content ;</span><br><span class="line">    <span class="attribute">animation</span>: text-wrap <span class="built_in">var</span>(--duration-text-wrap) infinite ;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> text-wrap &#123;</span><br><span class="line"></span><br><span class="line">    <span class="number">75%</span>&#123;</span><br><span class="line">      </span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">translate3d</span>(-<span class="number">51.5%</span>, <span class="number">0</span>, <span class="number">0</span>) ;</span><br><span class="line">      </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="number">100%</span>&#123;</span><br><span class="line">      </span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">translate3d</span>(-<span class="number">51.5%</span>, <span class="number">0</span>, <span class="number">0</span>) ;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player__button</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">all</span>: unset ;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">100</span> ;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">2.5em</span> ;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">2.5em</span> ;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer ;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.playlist</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0</span>) ;</span><br><span class="line">    <span class="attribute">transition</span>: transform <span class="built_in">calc</span>(<span class="built_in">var</span>(--duration) / <span class="number">2</span>) ;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.slider</span><span class="selector-class">.open-slider</span> <span class="selector-class">.playlist</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1</span>) ;</span><br><span class="line">    <span class="attribute">transition</span>: transform <span class="built_in">var</span>(--cubic-play-list) ;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player__button--absolute--nw</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">top</span>: <span class="number">5.5%</span> ;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">5.5%</span> ;</span><br><span class="line">    <span class="attribute">position</span>: absolute ;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player__button--absolute--center</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span> ;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span> ;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span> ;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">0</span> ;</span><br><span class="line">    <span class="attribute">margin</span>: auto ;</span><br><span class="line">    <span class="attribute">position</span>: absolute ;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">img</span><span class="selector-attr">[alt =<span class="string">&quot;pause-icon&quot;</span>]</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">display</span>: none ;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player__controls</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">width</span>: <span class="number">77%</span> ;</span><br><span class="line">    <span class="attribute">gap</span>: .<span class="number">5em</span> <span class="number">0</span> ;</span><br><span class="line">    <span class="attribute">display</span>: flex ;</span><br><span class="line">    <span class="attribute">flex-wrap</span>: wrap ;</span><br><span class="line">    <span class="attribute">align-items</span>: center ;</span><br><span class="line">    <span class="attribute">will-change</span>: contents ;</span><br><span class="line">    <span class="attribute">align-content</span>: center ;</span><br><span class="line">    <span class="attribute">justify-content</span>: center ;</span><br><span class="line">    <span class="attribute">transition</span>: transform <span class="built_in">var</span>(--cubic-header) , width <span class="built_in">var</span>(--cubic-header) ;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player__controls</span><span class="selector-class">.move</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">width</span>: <span class="number">88%</span> ;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate3d</span>(-<span class="number">1.1em</span> , <span class="built_in">calc</span>(<span class="built_in">var</span>(--parent-height) - <span class="number">153%</span>) , <span class="number">0</span>) ;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player__context</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> ;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span> ;</span><br><span class="line">    <span class="attribute">display</span>: flex ;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">1.8</span> ;</span><br><span class="line">    <span class="attribute">flex-direction</span>: column ;</span><br><span class="line">    <span class="attribute">justify-content</span>: center ;</span><br><span class="line">    <span class="attribute">text-transform</span>: capitalize ;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.slider__context</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">width</span>: <span class="number">56.28%</span> ;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer ;</span><br><span class="line">    <span class="attribute">text-align</span>: center ;</span><br><span class="line">    <span class="attribute">padding-bottom</span>: .<span class="number">2em</span> ;</span><br><span class="line">    <span class="attribute">will-change</span>: contents ;</span><br><span class="line">    <span class="attribute">transition</span>: width <span class="built_in">var</span>(--cubic-header) ;</span><br><span class="line">    <span class="attribute">animation</span>: <span class="built_in">calc</span>(<span class="built_in">var</span>(--duration) / <span class="number">2</span>) <span class="built_in">var</span>(--cubic-slider-context) ;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> opacity &#123;</span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">    <span class="number">0%</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">0</span> ;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="number">90%</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">1</span> ;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player__controls</span><span class="selector-class">.move</span> <span class="selector-class">.slider__context</span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="attribute">width</span>: <span class="number">49.48%</span> ;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player__title</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">font-size</span>: .<span class="number">7em</span> ;</span><br><span class="line">    <span class="attribute">font-weight</span>: bold ;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#00000086</span> ;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.progres</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">width</span>: <span class="number">90%</span> ;</span><br><span class="line">    <span class="attribute">height</span>: .<span class="number">25em</span> ;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer ;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">1em</span> ;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#e5e7ea</span> ;</span><br><span class="line">    <span class="attribute">transition</span>: width <span class="built_in">var</span>(--cubic-header) ;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player__controls</span><span class="selector-class">.move</span> <span class="selector-class">.progres</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">width</span>: <span class="number">98%</span> ;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.progres__filled</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0%</span> ;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span> ;</span><br><span class="line">    <span class="attribute">display</span>: flex ;</span><br><span class="line">    <span class="attribute">position</span>: relative ;</span><br><span class="line">    <span class="attribute">align-items</span>: center ;</span><br><span class="line">    <span class="attribute">border-radius</span>: inherit ;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#78adfe</span> ;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.progres__filled</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span> ;</span><br><span class="line">    <span class="attribute">width</span>: .<span class="number">35em</span> ;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&quot; &quot;</span> ;</span><br><span class="line">    <span class="attribute">height</span>: .<span class="number">35em</span> ;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span> ;</span><br><span class="line">    <span class="attribute">position</span>: absolute ;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#5781bd</span> ;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player__playlist</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span> ;</span><br><span class="line">    <span class="attribute">overflow</span>: auto ;   </span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">1.05em</span> .<span class="number">9em</span> <span class="number">0</span> <span class="number">1.2em</span> ; </span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player__playlist</span>::-webkit-scrollbar &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span> ;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player__song</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*     gap: 0 .65em ; */</span></span><br><span class="line">    <span class="attribute">display</span>: flex ;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer ;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: .<span class="number">5em</span> ;</span><br><span class="line">    <span class="attribute">padding-bottom</span>: .<span class="number">7em</span> ;</span><br><span class="line">    <span class="attribute">border-bottom</span>: .<span class="number">1em</span> solid <span class="number">#d8d8d859</span> ;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player__song</span> <span class="selector-class">.player__context</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">1.5</span> ;</span><br><span class="line">    <span class="attribute">margin-left</span>: .<span class="number">65em</span> ;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player__song-name</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">font-size</span>: .<span class="number">88em</span> ;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player__song-time</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">font-size</span>: .<span class="number">65em</span> ;</span><br><span class="line">    <span class="attribute">font-weight</span>: bold ;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#00000079</span> ; </span><br><span class="line">    <span class="attribute">height</span>: fit-content ;</span><br><span class="line">    <span class="attribute">align-self</span>: flex-end ;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.audio</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">display</span>: none <span class="meta">!important</span> ;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.player__song-name</span>,<span class="selector-class">.slider__title</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#000</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#hitokoto</span>&#123;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details>3. 在[blogroot]\themes\butterfly\source\js\目录下新建player.js,内容如下：<details class="folding-tag" green><summary> 点我查看代码 </summary>              <div class='content'>              <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Designed by:  Mauricio Bucardo</span></span><br><span class="line"><span class="comment">// Original image: https://dribbble.com/shots/6957353-Music-Player-Widget</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">&quot;use strict&quot;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// add elemnts</span></span><br><span class="line"><span class="keyword">const</span> bgBody = [<span class="string">&quot;#e5e7e9&quot;</span>, <span class="string">&quot;#ff4545&quot;</span>, <span class="string">&quot;#f8ded3&quot;</span>, <span class="string">&quot;#ffc382&quot;</span>, <span class="string">&quot;#f5eda6&quot;</span>, <span class="string">&quot;#ffcbdc&quot;</span>, <span class="string">&quot;#dcf3f3&quot;</span>];</span><br><span class="line"><span class="keyword">const</span> body = <span class="variable language_">document</span>.<span class="property">body</span>;</span><br><span class="line"><span class="keyword">const</span> player = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.player&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> playerHeader = player.<span class="title function_">querySelector</span>(<span class="string">&quot;.player__header&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> playerControls = player.<span class="title function_">querySelector</span>(<span class="string">&quot;.player__controls&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> playerPlayList = player.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;.player__song&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> playerSongs = player.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;.audio&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> playButton = player.<span class="title function_">querySelector</span>(<span class="string">&quot;.play&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> nextButton = player.<span class="title function_">querySelector</span>(<span class="string">&quot;.next&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> backButton = player.<span class="title function_">querySelector</span>(<span class="string">&quot;.back&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> playlistButton = player.<span class="title function_">querySelector</span>(<span class="string">&quot;.playlist&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> slider = player.<span class="title function_">querySelector</span>(<span class="string">&quot;.slider&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> sliderContext = player.<span class="title function_">querySelector</span>(<span class="string">&quot;.slider__context&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> sliderName = sliderContext.<span class="title function_">querySelector</span>(<span class="string">&quot;.slider__name&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> sliderTitle = sliderContext.<span class="title function_">querySelector</span>(<span class="string">&quot;.slider__title&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> sliderContent = slider.<span class="title function_">querySelector</span>(<span class="string">&quot;.slider__content&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> sliderContentLength = playerPlayList.<span class="property">length</span> - <span class="number">1</span>;</span><br><span class="line"><span class="keyword">const</span> sliderWidth = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">let</span> left = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> song = playerSongs[count];</span><br><span class="line"><span class="keyword">let</span> isPlay = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">const</span> pauseIcon = playButton.<span class="title function_">querySelector</span>(<span class="string">&quot;img[alt = &#x27;pause-icon&#x27;]&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> playIcon = playButton.<span class="title function_">querySelector</span>(<span class="string">&quot;img[alt = &#x27;play-icon&#x27;]&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> progres = player.<span class="title function_">querySelector</span>(<span class="string">&quot;.progres&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> progresFilled = progres.<span class="title function_">querySelector</span>(<span class="string">&quot;.progres__filled&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> isMove = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// creat functions</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">openPlayer</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">    playerHeader.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;open-header&quot;</span>);</span><br><span class="line">    playerControls.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;move&quot;</span>);</span><br><span class="line">    slider.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;open-slider&quot;</span>);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">closePlayer</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">    playerHeader.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;open-header&quot;</span>);</span><br><span class="line">    playerControls.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;move&quot;</span>);</span><br><span class="line">    slider.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;open-slider&quot;</span>);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">next</span>(<span class="params"></span>) &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (count == sliderContentLength) &#123;</span><br><span class="line">        count = count;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    left += sliderWidth;</span><br><span class="line">    left = <span class="title class_">Math</span>.<span class="title function_">min</span>(left, (sliderContentLength) * sliderWidth);</span><br><span class="line">    sliderContent.<span class="property">style</span>.<span class="property">transform</span> = <span class="string">`translate3d(-<span class="subst">$&#123;left&#125;</span>%, 0, 0)`</span>;</span><br><span class="line">    count++;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">changeSliderContext</span>();</span><br><span class="line">    <span class="title function_">changeBgBody</span>();</span><br><span class="line">    <span class="title function_">selectSong</span>();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">back</span>(<span class="params"></span>) &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (count == <span class="number">0</span>) &#123;</span><br><span class="line">        count = count</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    left -= sliderWidth;</span><br><span class="line">    left = <span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="number">0</span>, left);</span><br><span class="line">    sliderContent.<span class="property">style</span>.<span class="property">transform</span> = <span class="string">`translate3d(-<span class="subst">$&#123;left&#125;</span>%, 0, 0)`</span>;</span><br><span class="line">    count--;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">changeSliderContext</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">    sliderContext.<span class="property">style</span>.<span class="property">animationName</span> = <span class="string">&quot;opacity&quot;</span>;</span><br><span class="line">    </span><br><span class="line">    sliderName.<span class="property">textContent</span> = playerPlayList[count].<span class="title function_">querySelector</span>(<span class="string">&quot;.player__title&quot;</span>).<span class="property">textContent</span>;</span><br><span class="line">    sliderTitle.<span class="property">textContent</span> = playerPlayList[count].<span class="title function_">querySelector</span>(<span class="string">&quot;.player__song-name&quot;</span>).<span class="property">textContent</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (sliderName.<span class="property">textContent</span>.<span class="property">length</span> &gt; <span class="number">16</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> textWrap = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;span&quot;</span>);</span><br><span class="line">        textWrap.<span class="property">className</span> = <span class="string">&quot;text-wrap&quot;</span>;</span><br><span class="line">        textWrap.<span class="property">innerHTML</span> = sliderName.<span class="property">textContent</span> + <span class="string">&quot;   &quot;</span> + sliderName.<span class="property">textContent</span>;  </span><br><span class="line">        sliderName.<span class="property">innerHTML</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        sliderName.<span class="title function_">append</span>(textWrap);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (sliderTitle.<span class="property">textContent</span>.<span class="property">length</span> &gt;= <span class="number">18</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> textWrap = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;span&quot;</span>);</span><br><span class="line">        textWrap.<span class="property">className</span> = <span class="string">&quot;text-wrap&quot;</span>;</span><br><span class="line">        textWrap.<span class="property">innerHTML</span> = sliderTitle.<span class="property">textContent</span> + <span class="string">&quot;    &quot;</span> + sliderTitle.<span class="property">textContent</span>;  </span><br><span class="line">        sliderTitle.<span class="property">innerHTML</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        sliderTitle.<span class="title function_">append</span>(textWrap);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">changeBgBody</span>(<span class="params"></span>) &#123;</span><br><span class="line">    body.<span class="property">style</span>.<span class="property">backgroundColor</span> = bgBody[count];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">selectSong</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">    song = playerSongs[count];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> item <span class="keyword">of</span> playerSongs) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (item != song) &#123;</span><br><span class="line">            item.<span class="title function_">pause</span>();</span><br><span class="line">            item.<span class="property">currentTime</span> = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (isPlay) song.<span class="title function_">play</span>();</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">playSong</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (song.<span class="property">paused</span>) &#123;</span><br><span class="line">        song.<span class="title function_">play</span>();</span><br><span class="line">        playIcon.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">        pauseIcon.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;block&quot;</span>;</span><br><span class="line"></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        song.<span class="title function_">pause</span>();</span><br><span class="line">        isPlay = <span class="literal">false</span>;</span><br><span class="line">        playIcon.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        pauseIcon.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">progresUpdate</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> progresFilledWidth = (<span class="variable language_">this</span>.<span class="property">currentTime</span> / <span class="variable language_">this</span>.<span class="property">duration</span>) * <span class="number">100</span> + <span class="string">&quot;%&quot;</span>;</span><br><span class="line">    progresFilled.<span class="property">style</span>.<span class="property">width</span> = progresFilledWidth;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">duration</span> == <span class="variable language_">this</span>.<span class="property">currentTime</span>) &#123;</span><br><span class="line">        <span class="title function_">next</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (count == sliderContentLength &amp;&amp; song.<span class="property">currentTime</span> == song.<span class="property">duration</span>) &#123;</span><br><span class="line">        playIcon.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;block&quot;</span>;</span><br><span class="line">        pauseIcon.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        isPlay = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">scurb</span>(<span class="params">e</span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// If we use e.offsetX, we have trouble setting the song time, when the mousemove is running</span></span><br><span class="line">    <span class="keyword">const</span> currentTime = ( (e.<span class="property">clientX</span> - progres.<span class="title function_">getBoundingClientRect</span>().<span class="property">left</span>) / progres.<span class="property">offsetWidth</span> ) * song.<span class="property">duration</span>;</span><br><span class="line">    song.<span class="property">currentTime</span> = currentTime;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">durationSongs</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> min = <span class="built_in">parseInt</span>(<span class="variable language_">this</span>.<span class="property">duration</span> / <span class="number">60</span>);</span><br><span class="line">    <span class="keyword">if</span> (min &lt; <span class="number">10</span>) min = <span class="string">&quot;0&quot;</span> + min;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> sec = <span class="built_in">parseInt</span>(<span class="variable language_">this</span>.<span class="property">duration</span> % <span class="number">60</span>);</span><br><span class="line">    <span class="keyword">if</span> (sec &lt; <span class="number">10</span>) sec = <span class="string">&quot;0&quot;</span> + sec;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> playerSongTime = <span class="string">`<span class="subst">$&#123;min&#125;</span>:<span class="subst">$&#123;sec&#125;</span>`</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">closest</span>(<span class="string">&quot;.player__song&quot;</span>).<span class="title function_">querySelector</span>(<span class="string">&quot;.player__song-time&quot;</span>).<span class="title function_">append</span>(playerSongTime);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title function_">changeSliderContext</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// add events</span></span><br><span class="line">sliderContext.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, openPlayer);</span><br><span class="line">sliderContext.<span class="title function_">addEventListener</span>(<span class="string">&quot;animationend&quot;</span>, <span class="function">() =&gt;</span> sliderContext.<span class="property">style</span>.<span class="property">animationName</span> =<span class="string">&#x27;&#x27;</span>);</span><br><span class="line">playlistButton.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, closePlayer);</span><br><span class="line"></span><br><span class="line">nextButton.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, next);</span><br><span class="line"></span><br><span class="line">backButton.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">back</span>();</span><br><span class="line">    <span class="title function_">changeSliderContext</span>();</span><br><span class="line">    <span class="title function_">changeBgBody</span>();</span><br><span class="line">    <span class="title function_">selectSong</span>();</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">playButton.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    isPlay = <span class="literal">true</span>;</span><br><span class="line">    <span class="title function_">playSong</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">playerSongs.<span class="title function_">forEach</span>(<span class="function"><span class="params">song</span> =&gt;</span> &#123;</span><br><span class="line">    song.<span class="title function_">addEventListener</span>(<span class="string">&quot;loadeddata&quot;</span> , durationSongs);</span><br><span class="line">    song.<span class="title function_">addEventListener</span>(<span class="string">&quot;timeupdate&quot;</span> , progresUpdate);</span><br><span class="line">    </span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">progres.<span class="title function_">addEventListener</span>(<span class="string">&quot;mousedown&quot;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">scurb</span>(e);</span><br><span class="line">    isMove = <span class="literal">true</span>;</span><br><span class="line">    song.<span class="property">muted</span> = <span class="literal">true</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;mousemove&quot;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> isMove &amp;&amp; <span class="title function_">scurb</span>(e));</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;mouseup&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    isMove = <span class="literal">false</span></span><br><span class="line">    song.<span class="property">muted</span> = <span class="literal">false</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">ondragstart</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>              </div>            </details>4. 编辑[blogroot]\themes\butterfly\layout\page.pug<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">    case page.type</span><br><span class="line">      when &#x27;tags&#x27;</span><br><span class="line">        include includes/page/tags.pug</span><br><span class="line">      when &#x27;link&#x27;</span><br><span class="line">        include includes/page/flink.pug</span><br><span class="line">      when &#x27;bb&#x27;</span><br><span class="line">        include includes/page/bb.pug</span><br><span class="line">      when &#x27;categories&#x27;</span><br><span class="line">        include includes/page/categories.pug</span><br><span class="line"><span class="addition">+      when &#x27;music&#x27;</span></span><br><span class="line"><span class="addition">+        include includes/page/music.pug</span></span><br><span class="line">      default</span><br><span class="line">        include includes/page/default-page.pug</span><br></pre></td></tr></table></figure>5. 编辑[blogroot]\themes\butterfly\_config.yml，在末尾添加：<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">musicplayer:</span></span><br><span class="line">  <span class="attr">hitokoto:</span> <span class="literal">true</span> <span class="comment"># 一言</span></span><br><span class="line">  <span class="attr">musics:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">&#x27;Eutopia&#x27;</span></span><br><span class="line">      <span class="attr">author:</span> <span class="string">&#x27;Yoohsic Roomz&#x27;</span></span><br><span class="line">      <span class="attr">image:</span> <span class="string">&#x27;http://p2.music.126.net/2VW7YM7You-iOyl4_smA0Q==/109951165875618375.jpg&#x27;</span></span><br><span class="line">      <span class="attr">url:</span> <span class="string">&#x27;http://music.163.com/song/media/outer/url?id=29129889.mp3&#x27;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">&#x27;Everything&#x27;</span></span><br><span class="line">      <span class="attr">author:</span> <span class="string">&#x27;Yinyues&#x27;</span></span><br><span class="line">      <span class="attr">image:</span> <span class="string">&#x27;http://p2.music.126.net/TcxdEdzRbKrwli4fVGeSiw==/6628955604788949.jpg&#x27;</span></span><br><span class="line">      <span class="attr">url:</span> <span class="string">&#x27;http://music.163.com/song/media/outer/url?id=29544794.mp3&#x27;</span></span><br><span class="line"><span class="comment">#    - name: &#x27;歌曲名字&#x27;</span></span><br><span class="line"><span class="comment">#      author: &#x27;歌曲作者&#x27;</span></span><br><span class="line"><span class="comment">#      image: &#x27;歌曲图片&#x27;</span></span><br><span class="line"><span class="comment">#      url: &#x27;歌曲链接&#x27;</span></span><br></pre></td></tr></table></figure>6. 将svg.7z压缩包里的五个文件放在[blogroot]\themes\butterfly\source\svg 里面<div class="btns rounded grid5">            <a class="button no-text-decoration" href='https://sinz.lanzouw.com/iFMmG0kjkuvg' title='（密码：gt97）'><img src='fas fa-download'>（密码：gt97）</a>          </div>7. 运行`hexo new page music`8. 编辑[blogroot]\source\music\index.md，把里面的内容替换成：<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">type: &#x27;music&#x27;</span><br><span class="line">comments: false</span><br><span class="line"><span class="section">aside: false</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div><div class="tab-item-content active" id="教程开始-2"><p><a href="/music/old/">2.0效果预览</a></p><ol><li>新建[Blogroot]\themes\butterfly\layout\includes\page\music.pug（有搞1.0的话直接把music.pug里面的内容全都替换成下面的内容），内容如下：<details class="folding-tag" green><summary> 点我查看代码 </summary>           <div class='content'>           <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">link(</span><br><span class="line">  href=&quot;/assets/css/tplayer.css&quot;</span><br><span class="line">  rel=&quot;stylesheet&quot;</span><br><span class="line">  type=&quot;text/css&quot;</span><br><span class="line">)</span><br><span class="line">link(</span><br><span class="line">  href=&quot;/assets/plugins/FontAwesome4.1/css/font-awesome.min.css&quot;</span><br><span class="line">  rel=&quot;stylesheet&quot;</span><br><span class="line">  type=&quot;text/css&quot;</span><br><span class="line">)</span><br><span class="line">script(src=&quot;/assets/js/jquery.js&quot;)</span><br><span class="line">script(src=&quot;/assets/js/jquery-ui.js&quot;)</span><br><span class="line">script(src=&quot;/assets/js/tPlayer.js&quot;)</span><br><span class="line">#t_wrapper</span><br><span class="line">  #t_cover</span><br><span class="line">    img(src=&quot;/assets/images/logo.png&quot;)</span><br><span class="line">  #t_top</span><br><span class="line">    #t_title_info</span><br><span class="line">      span.artist</span><br><span class="line">      span.title</span><br><span class="line">  #t_middle</span><br><span class="line">    #play</span><br><span class="line">    #pause.hidden</span><br><span class="line">    #t_progress.ui-corner-all.ui-slider.ui-slider-horizontal.ui-widget.ui-widget-content</span><br><span class="line">      #trackInfo</span><br><span class="line">        #error</span><br><span class="line">        #current 0:00</span><br><span class="line">        #duration 0:00</span><br><span class="line">      .ui-corner-all.ui-slider-range.ui-slider-range-min.ui-widget-header(style=&quot;width: 0%;&quot;)</span><br><span class="line">      span.ui-corner-all.ui-slider-handle.ui-state-default(style=&quot;left: 0%;&quot; tabindex=&quot;0&quot;)</span><br><span class="line">    span#prev</span><br><span class="line">    span#next</span><br><span class="line">  #t_bottom</span><br><span class="line">    #range</span><br><span class="line">      #val</span><br><span class="line">      #vol</span><br><span class="line">      #rangeVal</span><br><span class="line">    #t_pls_show.noselectpls</span><br><span class="line">#playlist</span><br><span class="line">  ul</span><br><span class="line">    each musics in theme.musicplayer.musics</span><br><span class="line">      li(</span><br><span class="line">        t_artist=musics.author</span><br><span class="line">        t_cover=musics.image</span><br><span class="line">        t_name=musics.name</span><br><span class="line">      )</span><br><span class="line">        a(href=&quot;#&quot;)=musics.name + &#x27; - &#x27; + musics.author</span><br><span class="line">        audio(preload=&quot;none&quot; src=musics.url type=&quot;audio/mp3&quot;)</span><br><span class="line">if theme.musicplayer.hitokoto</span><br><span class="line">  p#hitokoto</span><br><span class="line">    a#hitokoto_text(href=&quot;#&quot;,target=&quot;_blank&quot;,style=&quot;text-align:center;color: #fff;&quot;) :D 获取中...</span><br><span class="line">if theme.musicplayer.hitokoto</span><br><span class="line">  script.</span><br><span class="line">    fetch(&#x27;https://v1.hitokoto.cn&#x27;)</span><br><span class="line">      .then(response =&gt; response.json())</span><br><span class="line">      .then(data =&gt; &#123;</span><br><span class="line">        const hitokoto = document.querySelector(&#x27;#hitokoto_text&#x27;)</span><br><span class="line">        hitokoto.href = `https://hitokoto.cn/?uuid=$&#123;data.uuid&#125;`</span><br><span class="line">        hitokoto.innerText = data.hitokoto + &quot; —— &quot; + data.creator + &quot;「&quot; + data.from + &quot;」&quot;</span><br><span class="line">      &#125;)</span><br><span class="line">      .catch(console.error)</span><br></pre></td></tr></table></figure>           </div>         </details></li><li>将下面压缩包内五个文件夹全都解压在[blogroot]\themes\butterfly\source\assets 文件夹里面<div class="btns rounded grid5">         <a class="button no-text-decoration" href='https://sinz.lanzouw.com/iUJTx0krafpi' title='（密码：3r5i）'><img src='fas fa-download'>（密码：3r5i）</a>       </div></li></ol><div class="note info modern"><p>1.0想升级成2.0的，下面的步骤可以不用做</p></div>3. 编辑[blogroot]\themes\butterfly\_config.yml，在末尾添加：<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">musicplayer:</span></span><br><span class="line">  <span class="attr">hitokoto:</span> <span class="literal">true</span> <span class="comment"># 一言</span></span><br><span class="line">  <span class="attr">musics:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">&#x27;Eutopia&#x27;</span></span><br><span class="line">      <span class="attr">author:</span> <span class="string">&#x27;Yoohsic Roomz&#x27;</span></span><br><span class="line">      <span class="attr">image:</span> <span class="string">&#x27;http://p2.music.126.net/2VW7YM7You-iOyl4_smA0Q==/109951165875618375.jpg&#x27;</span></span><br><span class="line">      <span class="attr">url:</span> <span class="string">&#x27;http://music.163.com/song/media/outer/url?id=29129889.mp3&#x27;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">&#x27;Everything&#x27;</span></span><br><span class="line">      <span class="attr">author:</span> <span class="string">&#x27;Yinyues&#x27;</span></span><br><span class="line">      <span class="attr">image:</span> <span class="string">&#x27;http://p2.music.126.net/TcxdEdzRbKrwli4fVGeSiw==/6628955604788949.jpg&#x27;</span></span><br><span class="line">      <span class="attr">url:</span> <span class="string">&#x27;http://music.163.com/song/media/outer/url?id=29544794.mp3&#x27;</span></span><br><span class="line"><span class="comment">#    - name: &#x27;歌曲名字&#x27;</span></span><br><span class="line"><span class="comment">#      author: &#x27;歌曲作者&#x27;</span></span><br><span class="line"><span class="comment">#      image: &#x27;歌曲图片&#x27;</span></span><br><span class="line"><span class="comment">#      url: &#x27;歌曲链接&#x27;</span></span><br></pre></td></tr></table></figure>4. 运行`hexo new page music`5. 编辑[blogroot]\source\music\index.md，把里面的内容替换成：<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">type: &#x27;music&#x27;</span><br><span class="line">comments: false</span><br><span class="line"><span class="section">aside: false</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div></div><h1 id="TO-DO"><a href="#TO-DO" class="headerlink" title="TO DO"></a>TO DO</h1><div class='checkbox checked'><input type="checkbox" checked="checked"/>            <p>播放列表</p>            </div><div class='checkbox checked'><input type="checkbox" checked="checked"/>            <p>适配手机端</p>            </div><div class='checkbox'><input type="checkbox" />            <p>npm插件化<psw>（Akilar行为）</psw></p>            </div>]]></content>
    
    
    <summary type="html">原先的音乐页面存在BUG：手机访问会错乱，所以我重新找了个音乐播放器源码</summary>
    
    
    
    <category term="折腾" scheme="https://blog.sinzmise.top/categories/%E6%8A%98%E8%85%BE/"/>
    
    <category term="Hexo" scheme="https://blog.sinzmise.top/categories/%E6%8A%98%E8%85%BE/Hexo/"/>
    
    
    <category term="Hexo" scheme="https://blog.sinzmise.top/tags/Hexo/"/>
    
    <category term="Butterfly" scheme="https://blog.sinzmise.top/tags/Butterfly/"/>
    
  </entry>
  
  <entry>
    <title>再见2022，你好2023</title>
    <link href="https://blog.sinzmise.top/posts/23021/"/>
    <id>https://blog.sinzmise.top/posts/23021/</id>
    <published>2022-12-31T06:53:11.000Z</published>
    <updated>2023-07-04T03:43:07.589Z</updated>
    
    <content type="html"><![CDATA[<div class="note info flat"><p>封面图片来自：<a href="https://www.tukuppt.com/muban/vnjzjzvp.html">https://www.tukuppt.com/muban/vnjzjzvp.html</a></p></div><p>这是我在2022年的最后一篇文章。<br>时间过得真快，我刚迁移完博客，2022就快结束了<br>对此我并没有想说的 <del>（不是懒得说是真的没灵感）</del><br>不知道要说什么，也不知道有什么话要跟大家说<br>那我就先祝大家新的一年开开心心吧！<br>再见，2022。你好2023。</p>]]></content>
    
    
    <summary type="html">告别2022</summary>
    
    
    
    <category term="个人" scheme="https://blog.sinzmise.top/categories/%E4%B8%AA%E4%BA%BA/"/>
    
    <category term="个人感想" scheme="https://blog.sinzmise.top/categories/%E4%B8%AA%E4%BA%BA/%E4%B8%AA%E4%BA%BA%E6%84%9F%E6%83%B3/"/>
    
    
    <category term="个人感想" scheme="https://blog.sinzmise.top/tags/%E4%B8%AA%E4%BA%BA%E6%84%9F%E6%83%B3/"/>
    
  </entry>
  
</feed>
